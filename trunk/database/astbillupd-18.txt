/* $Id: updates.inc,v 1.100.2.5 2005/05/07 08:36:24 dries Exp $ */

/* First Modified By Are Casilla for AstBill 6 Nov 2005
   12 Nov 2005    AstBill-0.9.0.12    www.astbill.com
   01 Jan 2007    AstBill-0.9.0.20    Are Casilla

   Andreas Mikkelborg <adoroar [Guess What?] astartelecom.com>
   Are Casilla        <areast  [Guess What?] astartelecom.com>

   This is the file where the AstBill team apply database updates. It is not used by users.
   This file are copied to update.astbill.com and used by astbillupdatesvn.php
   When a new version of AstBill is released or when the Team needs it the contents of this file
   is applied to 
*/

/**
 * How to run: http://yoursite.com/astbillupdate.php
 *
 * All incremental database updates performed between AstBill releases.
 */

// Define the various updates in an array("date : comment" => "function");
$sql_updates = array(
  "2005-11-09: first update since AstBill-0.9.0.12 release" => "astbill_update_011",
  "2005-11-10" => "astbill_update_012",
  "2005-11-17a" => "astbill_update_013",
  "2005-11-17b" => "astbill_update_014",
  "2005-11-17c" => "astbill_update_015",
  "2005-11-17d" => "astbill_update_016",
  "2005-11-30" => "astbill_update_017",
  "2005-11-30b" => "astbill_update_018",
  "2005-11-30d" => "astbill_update_019",
  "2005-11-30e" => "astbill_update_020",
  "2005-11-30f" => "astbill_update_021",
  "2005-12-01" => "astbill_update_022",
  "2005-12-01b" => "astbill_update_023",
  "2005-12-09: first update since AstBill-0.9.0.14 release" => "astbill_update_024",
  "2005-12-15" => "astbill_update_025",
  "2005-12-16" => "astbill_update_026",
  "2005-12-17" => "astbill_update_027",
  "2005-12-18" => "astbill_update_028",
  "2005-12-19" => "astbill_update_029",
  "2005-12-31" => "astbill_update_030",
  "2006-01-02" => "astbill_update_031",
  "2006-01-03" => "astbill_update_032",
  "2006-01-06" => "astbill_update_033",
  "2006-01-07" => "astbill_update_034",
  "2006-02-14" => "astbill_update_035",
  "2006-03-04" => "astbill_update_036",
  "2006-03-12" => "astbill_update_037",
  "2006-03-14" => "astbill_update_038",
  "2006-03-15" => "astbill_update_039",
  "2006-03-17" => "astbill_update_040",
  "2006-03-18" => "astbill_update_041",
  "2006-03-25" => "astbill_update_042",
  "2006-03-26b" => "astbill_update_044",
  "2006-03-28" => "astbill_update_045",
  "2006-04-15" => "astbill_update_046",
  "2006-04-20" => "astbill_update_047",
  "2006-05-13" => "astbill_update_048",
  "2006-12-31a" => "astbill_update_049",
  "2006-12-31b" => "astbill_update_050",
  "2006-12-31c" => "astbill_update_051",
  "2006-12-31d" => "astbill_update_052",
  "2006-12-31e" => "astbill_update_053",
  "2007-01-01a" => "astbill_update_054",
  "2007-01-01b" => "astbill_update_055",
  "2007-01-01c" => "astbill_update_056",
);

function update_sql($sql) {
  $edit = $_POST["edit"];
  $result = db_query($sql);
  if ($result) {
    return array('1', nl2br(htmlentities($sql)) ." ", "<div style=\"color: green;\">OK</div>\n");
  }
  else {
    return array('0', nl2br(htmlentities($sql)) ." ", "<div style=\"color: red;\">FAILED</div>\n");
  }
}

function astbill_update_011() {
  $ret = array();
  $ret[] = update_sql("DROP TABLE IF EXISTS astreseller");
  $ret[] = update_sql("CREATE TABLE `astcompany` (
  `accountcode` int(10) NOT NULL,
  `company` varchar(128) NOT NULL default '',
  `contactname` varchar(128) NOT NULL default '',
  `address1` varchar(128) NOT NULL default '',
  `address2` varchar(128) NOT NULL default '',
  `zip` varchar(64) NOT NULL default '',
  `city` varchar(128) NOT NULL default '',
  `state` varchar(128) default NULL,
  `country` varchar(128) NOT NULL,
  `phone` varchar(128) NOT NULL default '',
  `phone2` varchar(128) NOT NULL default '',
  `fax` varchar(128) NOT NULL default '',
  `status` tinyint(1) NOT NULL default '1',
  `date_created` datetime NOT NULL default '0000-00-00 00:00:00',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`accountcode`),
  KEY `company` (`company`),
  KEY `contactname` (`contactname`)
)");
  return $ret;
}

function astbill_update_012() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `master` VARCHAR( 40 ) AFTER `accountcode` ,
ADD `submaster` VARCHAR( 40 ) AFTER `master`");
  return $ret;
}

function astbill_update_013() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `fullcontact` VARCHAR( 80 ) AFTER `canreinvite`");
  return $ret;
}

function astbill_update_014() {
  $ret = array();
  $ret[] = update_sql("DROP VIEW IF EXISTS asv_sip");
  $ret[] = update_sql("create view asv_sip as SELECT accountcode name,accountcode username,type,secret,host,callerid,context,dtmfmode,mailbox,nat,qualify,fromuser,authuser,fromdomain,fullcontact,insecure,canreinvite,disallow,allow,restrictid,ipaddr,port,regseconds FROM astaccount where (tech = 'SIP' or tech = 'IN-SIP') and active = 1");
  return $ret;
}

function astbill_update_015() {
  $ret = array();
  $ret[] = update_sql("DROP VIEW IF EXISTS asv_iax");
  $ret[] = update_sql("create view asv_iax as SELECT accountcode name,accountcode username,type,
secret,notransfer,inkeys,auth,accountcode,amaflags,callerid,context,defaultip,
host,language,dtmfmode,mailbox,deny,permit,qualify,disallow,allow,ipaddr,port,
regseconds FROM astaccount where (tech = 'IAX' or tech = 'IN-IAX' ) and active = 1
  ");
  return $ret;
}

function astbill_update_016() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `callerid` VARCHAR( 80 ) AFTER `callednum`");
  return $ret;
}

function astbill_update_017() {
  $ret = array();
  $ret[] = update_sql("CREATE TABLE `astcountryprefix` (`CountryPrefix` int(3) NOT NULL,`allow00` tinyint(1) 
  unsigned NOT NULL default '1',`allow011` tinyint(1) unsigned NOT NULL default '1',`locallength` tinyint(2) 
  unsigned NOT NULL default '0',`timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP, PRIMARY KEY  (`CountryPrefix`))");
  $ret[] = update_sql("INSERT INTO `astcountryprefix` (`CountryPrefix`, `allow00`, `allow011`, `locallength`, `timestamp`) VALUES (44, 1, 0, 0, '2005-11-30 10:40:34')");
  $ret[] = update_sql("INSERT INTO `astcountryprefix` (`CountryPrefix`, `allow00`, `allow011`, `locallength`, `timestamp`) VALUES (47, 1, 1, 8, '2005-11-30 10:41:02')");
  return $ret;
}

function astbill_update_018() {
  $ret = array();
  $ret[] = update_sql("UPDATE `astroute` SET `trunk` = 'DEF' WHERE `id` =129 and trunk = 'BUZZBUD' LIMIT 1");
  return $ret;
}

function astbill_update_019() {
  $ret = array();
  $ret[] = update_sql("select count(*) from astaccount");
  return $ret;
}

function astbill_update_020() {
  $ret = array();
  $ret[] = update_sql("
CREATE TABLE astanicli (
`accountcode` varchar(40) NOT NULL,
`anicli` varchar(40) NOT NULL,
`comment` varchar(255) default NULL,
timestamp timestamp NOT NULL default CURRENT_TIMESTAMP,
PRIMARY KEY (`accountcode`,`anicli`)
)");
  return $ret;
}

function astbill_update_021() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `master` VARCHAR( 40 ) AFTER `accountcode` ,ADD `submaster` VARCHAR( 40 ) AFTER `master`");
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `amaflags` VARCHAR( 80 ) AFTER `callerid`");
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD INDEX ( `accountcode` )");
  return $ret;
}

function astbill_update_022() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astsystem` ADD `viewstatus` VARCHAR( 2 ) DEFAULT 'N' NOT NULL AFTER `comment`");

  $ret[] = update_sql("INSERT INTO `astsystem` ( `serverid` , `name` , `value` , `comment` , `viewstatus` , `timestamp` )
VALUES ('DEF', 'default-tech', 'IAX', 'The default Channel type to use when creating new accounts', 'E', NOW( )
), ('DEF', 'default-brand', 'default', 'The default brand to use when creating new accounts', 'N', NOW( ))");

  $ret[] = update_sql("update astsystem set viewstatus = 'E'");
  $ret[] = update_sql("delete from astsystem WHERE `serverid`= 'DEF' AND `name` = 'AstBill-DB-Version' LIMIT 1 ");
  $ret[] = update_sql("UPDATE `astsystem` SET `value` = 'AstBill-0.9.0.14', `viewstatus` = 'D' WHERE `serverid` = 'DEF' and `name` = 'AstBill-Version' LIMIT 1 ");
  $ret[] = update_sql("UPDATE `astsystem` SET `viewstatus` = 'D' WHERE `serverid` = 'DEF' and `name` = 'AstBill-DB-Updated' LIMIT 1 ");
  $ret[] = update_sql("UPDATE `astsystem` SET `value` = Now(), `viewstatus` = 'D' WHERE `serverid` = 'DEF' and `name` = 'AstBill-GUI-Updated' LIMIT 1 ");
  $ret[] = update_sql("UPDATE `astsystem` SET `viewstatus` = 'N' WHERE `serverid` = 'DEF' and `name` = 'GlobalDialPrefix' LIMIT 1 ");
  return $ret;
}

function astbill_update_023() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `extension` VARCHAR( 80 ) AFTER `price`");
  return $ret;
}

function astbill_update_024() {
  $ret = array();
  $ret[] = update_sql("DROP VIEW IF EXISTS asvaccount2");
  $ret[] = update_sql("create view asvaccount2 as
SELECT asvaccount.accountcode, db_prefix, uid, tech, secret,active,usagecount, LEFT(accountname,15) as accountname,  round((sumprice/100),2) as sumprice, 
sumpaid, sumpaid - round((sumprice/100),2) as balance, creditlimit,startingcredit, countcalls FROM asvaccount, astaccount
where asvaccount.accountcode = astaccount.accountcode");

 $ret[] = update_sql("ALTER TABLE `astuser` ADD `db_prefix` VARCHAR( 40 ) NOT NULL default 'pbx_' FIRST");
 $ret[] = update_sql("ALTER TABLE `astuser` DROP PRIMARY KEY ,ADD PRIMARY KEY ( `db_prefix` , `uid` )");
 $ret[] = update_sql("DROP VIEW IF EXISTS asv_friend");

 $ret[] = update_sql("create view asv_friend as SELECT uid,db_prefix,astaccount.serverid,astaccount.accountcode,astaccount.username,accountname publicnumber,
astaccount.tech,type,secret,forwardto,fromuser,authuser,fromdomain,nat,qualify,host,port,callerid,context,dtmfmode,
insecure,canreinvite,disallow,allow,restrictid,astaccount.comment,active,date_created,
timestamp FROM astaccount where tech like 'IN%'");

  return $ret;
}

function astbill_update_025() {
  $ret = array();
  $ret[] = update_sql("delete from astsystem WHERE `serverid`= 'DEF' AND `name` = 'CountryPrefix' LIMIT 1 ");
  $ret[] = update_sql("delete from astsystem WHERE `serverid`= 'DEF' AND `name` = 'default-tech' LIMIT 1 ");
  $ret[] = update_sql("delete from astsystem WHERE `serverid`= 'DEF' AND `name` = 'default-brand' LIMIT 1 ");
  return $ret;
}

function astbill_update_026() {
  $ret = array();
  $ret[] = update_sql("CREATE TABLE `astplans` (`name` varchar(40) NOT NULL default '',`currency` varchar(3) NOT NULL default 'USD',
`language` varchar(10) default NULL,`publishednum` varchar(40) default NULL,`did` varchar(40) default NULL,
`markup` decimal(10,2) NOT NULL default '0.00',`billincrement` tinyint(8) NOT NULL default '1',`connectcharge` decimal(10,2) NOT NULL default '0.00',
`status` tinyint(1) NOT NULL default '1',PRIMARY KEY  (`name`))");

  $ret[] = update_sql("INSERT INTO `astplans` SELECT * from astbrand");
  $ret[] = update_sql("drop table astbrand");
  $ret[] = update_sql("delete from pbx_cache");
  return $ret;
}
function astbill_update_027() {
  $ret = array();
  $ret[] = update_sql("INSERT INTO `astsystem` ( `serverid` , `name` , `value` , `comment` , `viewstatus`)
VALUES ('DEF','def-password-length',6,'The Password Length to use when creating new accounts','E')");

  $ret[] = update_sql("INSERT INTO `astsystem` ( `serverid` , `name` , `value` , `comment` , `viewstatus`)
VALUES ('DEF','def-voicemail-pin-length',4,'The Voicemail PIN/Password Length to use when creating new accounts','E')");

 $ret[] = update_sql("INSERT INTO `astemailtext` (`EmailText`, `Subject`, `BodyText`, `BodyHTML`, `SenderEmail`, `bcc`, `Pic1`, `Pic2`, `Pic3`, `Date_Created`) VALUES ('pbx_ASTARREG', 'You VOIP Telephone Account is Activated', 'Thank you for registering at AstBill.com. You may now use your soft phone to make calls.\r\n\r\nYour AstBill VOIP Number is: %username%.\r\n\r\nYou can call your friends using AstBill for free. Just dial their AstBill Telephone number.\r\n\r\nPlease configure your soft phone using the following information:\r\n\r\nNetwork Name: AstBill\r\nNetwork Type: IAX\r\nPlease select external network when the soft phone wizard ask for network.\r\n\r\nServer: iax.astbill.com\r\nUsername: %username%\r\nPassword: %password%\r\n\r\nAfter configuring the soft phone you may wish to dial the following to test the system.\r\n\r\n	500 Speaking Clock\r\n	502 Echo Test\r\n	501 Monkey Test\r\n\r\nHappy Talking ...\r\n\r\n\r\nAstBill.com \r\nCustomer support', NULL, 'noreply@astbill.com', '', NULL, NULL, NULL, NULL)");

  return $ret;
}

function astbill_update_028() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `forcecallerid` VARCHAR(80) default NULL AFTER `callerid`");
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `hidecallerid` tinyint(1) NOT NULL default '1' AFTER `forcecallerid`");
  return $ret;
}

function astbill_update_029() {
  $ret = array();
  $ret[] = update_sql("CREATE TABLE `astacgroup` (
  `gtype` varchar(40) NOT NULL,
  `gname` varchar(255) NOT NULL default '',
  `mastergroup` varchar(40) NOT NULL default 'DID',
  `active` tinyint(1) NOT NULL default '1',
  `comment` varchar(255) default NULL,
  PRIMARY KEY  (`gtype`)
);");

  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `acgroup` VARCHAR(40) default NULL AFTER `tech`");
  $ret[] = update_sql("update astsystem set value = '/topup/'  where name = 'TopUpURL' and serverid = 'DEF'");

  return $ret;
}

function astbill_update_030() {
  $ret = array();
  $ret[] = update_sql("DROP VIEW IF EXISTS `asvcall`");
  $ret[] = update_sql("create view asvcall as
SELECT astcdr.uniqueid, astcdr.accountcode, astcdr.callednum, astuser.uid, astuser.brand, astuser.CountryPrefix, astplans.markup, astplans.billincrement
FROM astcdr, astaccount, astuser, astplans
WHERE astcdr.accountcode=astaccount.accountcode and astaccount.uid=astuser.uid and astuser.brand=astplans.name");

  $ret[] = update_sql("DROP VIEW IF EXISTS asvprice_uk");
  $ret[] = update_sql("create view asvprice_uk as
SELECT astpricelist.name, round((price / 100),4) as price, concat(astcurrency.currencysymbol,' ',
round((price / 100),4)) as pricecur, astplans.name brand, astcurrency.currencysymbol cur,astcurrency.currency cur2
FROM (astplans INNER JOIN astpricelist ON astplans.name = astpricelist.brand)
INNER JOIN astcurrency ON astplans.currency = astcurrency.currency
where pattern like '44%'
GROUP BY astpricelist.name, astplans.name, astcurrency.currencysymbol
ORDER BY weight, name");

  $ret[] = update_sql("DROP VIEW IF EXISTS `asvprice_uk_all`");
  $ret[] = update_sql("create view asvprice_uk_all as
SELECT pattern, astpricelist.name, round((price / 100),4) as price, concat(astcurrency.currencysymbol,
round((price / 100),4)) as pricecur, astplans.name brand, astcurrency.currencysymbol cur,astcurrency.currency cur2
FROM (astplans INNER JOIN astpricelist ON astplans.name = astpricelist.brand)
INNER JOIN astcurrency ON astplans.currency = astcurrency.currency
where pattern like '44%'
ORDER BY brand, pattern");

  $ret[] = update_sql("DROP VIEW IF EXISTS `asvprice_usa`");
  $ret[] = update_sql("create view asvprice_usa as
SELECT pattern, astpricelist.name, round((price / 100),4) as price, concat(astcurrency.currencysymbol,
round((price / 100),4)) as pricecur, astplans.name brand, astcurrency.currencysymbol cur,astcurrency.currency cur2
FROM (astplans INNER JOIN astpricelist ON astplans.name = astpricelist.brand)
INNER JOIN astcurrency ON astplans.currency = astcurrency.currency
where astpricelist.name like 'USA%'
ORDER BY weight, name");

  $ret[] = update_sql("DROP VIEW IF EXISTS asvprice");
  $ret[] = update_sql("create view asvprice as
SELECT pattern, astpricelist.name, round((price / 100),4) as price, concat(astcurrency.currencysymbol,
round((price / 100),4)) as pricecur, astplans.name brand, astcurrency.currencysymbol cur,astcurrency.currency cur2
FROM (astplans INNER JOIN astpricelist ON astplans.name = astpricelist.brand)
INNER JOIN astcurrency ON astplans.currency = astcurrency.currency
ORDER BY brand, pattern");

  $ret[] = update_sql("DROP VIEW IF EXISTS asvprice_group");
  $ret[] = update_sql("create view asvprice_group as
SELECT astpricelist.name, round((price / 100),4) as price, concat(astcurrency.currencysymbol,
round((price / 100),4)) as pricecur, astplans.name brand, astcurrency.currencysymbol cur,astcurrency.currency cur2
FROM (astplans INNER JOIN astpricelist ON astplans.name = astpricelist.brand)
INNER JOIN astcurrency ON astplans.currency = astcurrency.currency
where brand = 'default'
GROUP BY astpricelist.name, astplans.name, astcurrency.currencysymbol
ORDER BY brand, astpricelist.name;");

  
  $ret[] = update_sql("DROP VIEW IF EXISTS asvpricecountry");
  $ret[] = update_sql("create view asvpricecountry as
SELECT DISTINCT MIN(astpricelist.pattern) AS countrycode, astpricelist.name
FROM astpricelist GROUP BY astpricelist.name order by astpricelist.name");

  $ret[] = update_sql("DROP VIEW IF EXISTS asvpricecountry2");
  $ret[] = update_sql("create view asvpricecountry2 as
SELECT DISTINCT MIN(astpricelist.pattern) AS countrycode
FROM astpricelist GROUP BY astpricelist.name order by astpricelist.name");

  return $ret;
}

function astbill_update_031() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astcompany` ADD `firstname` VARCHAR(128) default NULL AFTER `company`");
  $ret[] = update_sql("ALTER TABLE `astcompany` CHANGE `contactname` `lastname` VARCHAR( 128 ) NULL");
  return $ret;
}
function astbill_update_032() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `company` varchar(128) NULL default NULL AFTER `lastaccount`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `firstname` varchar(128) default NULL AFTER `company`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `lastname` varchar(128) default NULL AFTER `firstname`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `address1` varchar(128) default NULL AFTER `lastname`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `address2` varchar(128) default NULL AFTER `address1`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `zip` varchar(64) NULL default NULL AFTER `address2`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `city` varchar(128) NULL default NULL AFTER `zip`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `state` varchar(128) NULL default NULL AFTER `city`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `country` varchar(128) NULL default NULL AFTER `state`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `phone` varchar(128) NULL default NULL AFTER `country`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `phone2` varchar(128) NULL default NULL AFTER `phone`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `mobile` varchar(128) NULL default NULL AFTER `phone2`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `fax` varchar(128) NULL default NULL AFTER `mobile`");

  $ret[] = update_sql("ALTER TABLE `astuser` ADD `birthdate` date NULL default NULL AFTER `fax`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `valuecode` varchar(128) NULL default NULL AFTER `birthdate`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `birthdate2` varchar(128) NULL default NULL AFTER `birthdate`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `ordercode` varchar(128) NULL default NULL AFTER `valuecode`");
  $ret[] = update_sql("ALTER TABLE `astuser` ADD `ipaddr` varchar(128) NULL default NULL AFTER `comment`");
  return $ret;
}

function astbill_update_033() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astaccount` CHANGE `restrictcid` `restrictcid` CHAR( 6 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL");

  $ret[] = update_sql("ALTER TABLE `asthardwareid` ADD `mac1` varchar(6) NULL default NULL AFTER `hardware`");
  $ret[] = update_sql("ALTER TABLE `asthardwareid` ADD `mac2` varchar(6) NULL default NULL AFTER `mac1`");
  $ret[] = update_sql("ALTER TABLE `asthardwareid` ADD `mac3` varchar(6) NULL default NULL AFTER `mac2`");

  $ret[] = update_sql("ALTER TABLE `asthardware` ADD `mac4` varchar(6) NULL default NULL AFTER `mac3`");
  $ret[] = update_sql("ALTER TABLE `asthardware` ADD `mac5` varchar(6) NULL default NULL AFTER `mac4`");
  $ret[] = update_sql("ALTER TABLE `asthardware` ADD `mac6` varchar(6) NULL default NULL AFTER `mac5`");

  $ret[] = update_sql("ALTER TABLE `asthardware` DROP `uid`");
  $ret[] = update_sql("ALTER TABLE `asthardware` DROP `name`");
  $ret[] = update_sql("ALTER TABLE `asthardware` DROP `mac_address`");
  $ret[] = update_sql("ALTER TABLE `asthardware` DROP `secret`");
  $ret[] = update_sql("ALTER TABLE `asthardware` DROP `hardwaretype`");

  return $ret;
}

function astbill_update_034() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astinvoice` CHANGE `invid` `invoiceno` INT( 11 ) UNSIGNED NOT NULL AUTO_INCREMENT");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `db_prefix` varchar(40) NOT NULL AFTER `invoiceno`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `invoice_date` datetime NOT NULL AFTER `uid`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `due_date` datetime NOT NULL AFTER `invoice_date`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD INDEX `inv_db_prefix` ( `db_prefix` , `uid` , `invoiceno` )");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `freight` decimal(10,2) NOT NULL default 0 AFTER `currency`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `adminfee` decimal(10,2) NOT NULL default 0 AFTER `freight`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `invoicefee` decimal(10,2) NOT NULL default 0 AFTER `adminfee`");

  $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD `phoneno` varchar(40) NULL AFTER `lineno`");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD `ptype` varchar(40) NULL AFTER `phoneno`");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD `productcode` varchar(40) NULL AFTER `ptype`");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` CHANGE `title` `product` varchar(256) NULL");

  $ret[] = update_sql("ALTER TABLE `astinvoiceline` CHANGE `invid` `invoiceno` INT( 11 ) UNSIGNED NOT NULL");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` CHANGE `price` `price` decimal(10,4) NOT NULL default 0");

  $ret[] = update_sql("ALTER TABLE `astinvoice` CHANGE `invoice_date` `invoice_date` date NOT NULL");
  $ret[] = update_sql("ALTER TABLE `astinvoice` CHANGE `due_date` `due_date` date NOT NULL");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `kid` varchar(128) NULL AFTER `due_date`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `period` varchar(128) NULL AFTER `kid`");

  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `sumexvat` decimal(10,2) NOT NULL default 0 AFTER `workflow`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `vat` decimal(10,2) NOT NULL default 0 AFTER `sumexvat`");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD `fromdate` date NULL AFTER `phoneno`");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD `todate` date NULL AFTER `fromdate`");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD `minutes` decimal(10,4) NOT NULL default 0 AFTER `qty`");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD `amount` decimal(10,2) NOT NULL default 0 AFTER `minutes`");

  $ret[] = update_sql("ALTER TABLE `astcountrycode` ADD `db_prefix` varchar(40) NOT NULL default 'pbx_' FIRST");
  $ret[] = update_sql("ALTER TABLE `astcountrycode` DROP PRIMARY KEY , ADD PRIMARY KEY ( `db_prefix` , `countrycode` )");
  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `ccn` varchar(40) NULL AFTER `pattern`");
  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `txtcomment` varchar(256) NULL");

  $ret[] = update_sql("ALTER TABLE `astuser` ADD `companyno` varchar(128) NULL AFTER `birthdate2`");

  return $ret;
}

function astbill_update_035() {
  $ret = array();

  $ret[] = update_sql("ALTER TABLE `asthardware` ADD `mac4` varchar(6) NULL default NULL AFTER `serialnumber`");
  $ret[] = update_sql("ALTER TABLE `asthardware` ADD `mac5` varchar(6) NULL default NULL AFTER `mac4`");
  $ret[] = update_sql("ALTER TABLE `asthardware` ADD `mac6` varchar(6) NULL default NULL AFTER `mac5`");

  return $ret;
}


function astbill_update_036() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `timeperiod` varchar(40) NULL default NULL AFTER `pattern`");
  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `netvendor` varchar(128) NULL default NULL AFTER `timeperiod`");

  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `priceevening` decimal(10,4) NOT NULL default 0 AFTER `price`");
  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `priceweekend` decimal(10,4) NOT NULL default 0 AFTER `priceevening`");
  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `pricereseller` decimal(10,4) NOT NULL default 0 AFTER `priceweekend`");

  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `pricemobile` decimal(10,4) NOT NULL default 0 AFTER `pricereseller`");
  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `ismobile` varchar(2) NULL default NULL AFTER `pricemobile`");
  return $ret;
}

function astbill_update_037() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `host` varchar(128) NULL default NULL AFTER `topup_url`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `iaxport` varchar(128) NULL default NULL AFTER `host`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `sshport` varchar(128) NULL default NULL AFTER `iaxport`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `lanhost` varchar(128) NULL default NULL AFTER `sshport`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `laniaxport` varchar(128) NULL default NULL AFTER `lanhost`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `lansshport` varchar(128) NULL default NULL AFTER `laniaxport`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `accountcode` varchar(128) NULL default NULL AFTER `lansshport`");
  return $ret;
}

function astbill_update_038() {
  $ret = array();
    $ret[] = update_sql("INSERT INTO `astsystem` ( `serverid` , `name` , `value` , `comment` , `viewstatus`)
VALUES ('DEF','Dial-Timeout-Parameter','|45|tTL(','The Dial Timeout and Dial Parameters','E')");
    $ret[] = update_sql("INSERT INTO `astsystem` ( `serverid` , `name` , `value` , `comment` , `viewstatus`)
VALUES ('DEF','DialLocal-Timeout-Parameter','|30|tTL(','The Dial Timeout and Dial Parameters','E')");

  
  return $ret;
}

function astbill_update_039() {
  $ret = array();
    $ret[] = update_sql("DROP VIEW IF EXISTS asvaccount2");
    $ret[] = update_sql("CREATE VIEW `asvaccount2` AS select `asvaccount`.`accountcode` AS `accountcode`,
`astaccount`.`db_prefix` AS `db_prefix`,`astaccount`.`uid` AS `uid`,`astaccount`.`tech` AS `tech`,
forcecallerid, `astaccount`.`secret` AS `secret`,`astaccount`.`active` AS `active`,`astaccount`.
`usagecount` AS `usagecount`,left(`astaccount`.`accountname`,15) AS `accountname`,
round((`asvaccount`.`sumprice` / 100),2) AS `sumprice`,`asvaccount`.`sumpaid` AS `sumpaid`,
(`asvaccount`.`sumpaid` - round((`asvaccount`.`sumprice` / 100),2)) AS `balance`,
`astaccount`.`creditlimit` AS `creditlimit`,`astaccount`.`startingcredit` AS `startingcredit`,
`asvaccount`.`countcalls` AS `countcalls` from (`asvaccount` join `astaccount`) 
where (`asvaccount`.`accountcode` = `astaccount`.`accountcode`)");
  
  return $ret;
}

function astbill_update_040() {
  $ret = array();
    $ret[] = update_sql("CREATE TABLE `astacname` (
  `accountcode` varchar(40) NOT NULL,
  `gtype` varchar(40) default NULL,
  `name` varchar(128) default NULL,
  `forcecallerid` varchar(80) default NULL,
  `location` varchar(128) default NULL,
  `ipaddress` varchar(128) default NULL,
  `sipport` varchar(40) default NULL,
  `rtpport` varchar(40) default NULL,
  `description` varchar(256) default NULL,
  `rtcp` varchar(40) default NULL,

  `equipment` varchar(256) default NULL,
  `networkpoint` varchar(256) default NULL,
  `vlan` varchar(256) default NULL,
  `macaddr` varchar(256) default NULL,


  `dateinstalled` varchar(40) default NULL,
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`accountcode`)
);");

    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `ipaddress` varchar(128) NULL default NULL AFTER `comment`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `subnet` varchar(128) NULL default NULL AFTER `ipaddress`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `port` varchar(128) NULL default NULL AFTER `subnet`");
    
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `sip2` varchar(128) NULL default NULL AFTER `port`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `ipaddress2` varchar(128) NULL default NULL AFTER `sip2`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `subnet2` varchar(128) NULL default NULL AFTER `ipaddress2`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `port2` varchar(128) NULL default NULL AFTER `subnet2`");

    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `sip3` varchar(128) NULL default NULL AFTER `port2`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `ipaddress3` varchar(128) NULL default NULL AFTER `sip3`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `subnet3` varchar(128) NULL default NULL AFTER `ipaddress3`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `port3` varchar(128) NULL default NULL AFTER `subnet3`");

    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `sip4` varchar(128) NULL default NULL AFTER `port3`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `ipaddress4` varchar(128) NULL default NULL AFTER `sip4`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `subnet4` varchar(128) NULL default NULL AFTER `ipaddress4`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `port4` varchar(128) NULL default NULL AFTER `subnet4`");

    $ret[] = update_sql("ALTER TABLE `astaccount` ADD `register` tinyint(1) NOT NULL default '0' AFTER `ccserialno`");
    $ret[] = update_sql("ALTER TABLE `astaccount` ADD INDEX `tech_account` ( `tech` , `accountcode` )");
 
  return $ret;
}

function astbill_update_041() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `call-limit` varchar(4) NULL default NULL AFTER `canreinvite`");
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `trustrpid` varchar(4) NULL default NULL AFTER `hidecallerid`");
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `sendrpid` varchar(4) NULL default NULL AFTER `trustrpid`");
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `setvar` varchar(128) NULL default NULL AFTER `rtptimeout`");
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `notifyringing` varchar(4) NULL default NULL AFTER `setvar`");

  $ret[] = update_sql("DROP VIEW IF EXISTS `asv_sip`");
  $ret[] = update_sql("CREATE VIEW `asv_sip` AS select `astaccount`.`accountcode` AS `name`,`astaccount`.`accountcode` AS `username`,
`astaccount`.`type` AS `type`,`astaccount`.`secret` AS `secret`,`astaccount`.`host` AS `host`,
`astaccount`.`callerid` AS `callerid`,`astaccount`.`context` AS `context`,`astaccount`.`dtmfmode` AS `dtmfmode`,
`astaccount`.`mailbox` AS `mailbox`,`astaccount`.`nat` AS `nat`,`astaccount`.`qualify` AS `qualify`,
`astaccount`.`fromuser` AS `fromuser`,`astaccount`.`authuser` AS `authuser`,`astaccount`.`fromdomain` AS `fromdomain`,
`astaccount`.`fullcontact` AS `fullcontact`,`astaccount`.`insecure` AS `insecure`,`astaccount`.
`canreinvite` AS `canreinvite`,`astaccount`.`disallow` AS `disallow`,`astaccount`.`allow` AS `allow`,
`astaccount`.`restrictid` AS `restrictid`,`astaccount`.`ipaddr` AS `ipaddr`,`astaccount`.`port` AS `port`,
`astaccount`.`regseconds` AS `regseconds`, `call-limit`, `trustrpid`, `sendrpid`, `setvar`, `notifyringing` from `astaccount` 
where (((`astaccount`.`tech` = _latin1'SIP') or (`astaccount`.`tech` = _latin1'IN-SIP')) and 
(`astaccount`.`active` = 1))");


  return $ret;
}

function astbill_update_042() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astacgroup` ADD `tenantid` INT( 11 ) DEFAULT '0' NOT NULL AFTER `mastergroup`");
  $ret[] = update_sql("ALTER TABLE `astacgroup` DROP PRIMARY KEY");
  $ret[] = update_sql("ALTER TABLE `astacgroup` ADD PRIMARY KEY ( `gtype` , `mastergroup` , `tenantid` )");

  $ret[] = update_sql("ALTER TABLE `astlog` ADD `uid` INT( 10 ) DEFAULT '0' NOT NULL AFTER `message`");
  $ret[] = update_sql("ALTER TABLE `astlog` ADD `accountcode` varchar(40) DEFAULT NULL NULL AFTER `uid`");
  $ret[] = update_sql("ALTER TABLE `astlog` ADD `db_prefix` varchar(40) DEFAULT NULL NULL AFTER `uid`");

  return $ret;
}

 function astbill_update_044() {
  $ret = array();
  $ret[] = update_sql("CREATE TABLE `astlogsms` (
  `smsid` int(10) NOT NULL auto_increment,
  `uid` int(10) NOT NULL default '0',
  `db_prefix` varchar(40) NOT NULL default 'pbx_',
  `accountcode` varchar(40) default NULL,
  `txrx` varchar(40) default NULL,
  `fromnr` varchar(128) default NULL,
  `destination` varchar(128) default NULL,
  `product` varchar(128) default NULL,
  `status` varchar(128) default NULL,
  `callback` varchar(128) default NULL,
  `cliid` varchar(128) default NULL,
  `apimsgid` varchar(128) NULL default NULL,
  `ourcost` decimal(10,2) NOT NULL default '0',
  `salesprice` decimal(10,2) NOT NULL default '0',
  `messagedata` varchar(256) default NULL,
  `date_created` datetime NOT NULL default '0000-00-00 00:00:00',
  `date_scheduled` datetime NOT NULL default '0000-00-00 00:00:00',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`smsid`)
) AUTO_INCREMENT= 20000 ENGINE=InnoDB DEFAULT CHARSET=utf8");

  return $ret;
}

function astbill_update_045() {
  $ret = array();
  $ret[] = update_sql("CREATE TABLE `astlogemail` (
  `emailid` int(10) NOT NULL auto_increment,
  `uid` int(10) NOT NULL default '0',
  `db_prefix` varchar(40) default 'cbk_',
  `accountcode` varchar(40) default NULL,
  `txrx` varchar(40) default 'TX',
  `fromemail` varchar(128) default NULL,
  `toemail` varchar(128) default NULL,
  `subject` varchar(128) default NULL,
  `status` varchar(128) default NULL,
  `messagedata` varchar(1024),
  `date_created` datetime NOT NULL default '0000-00-00 00:00:00',
  `date_scheduled` datetime NOT NULL default '0000-00-00 00:00:00',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`emailid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8");

  return $ret;
}
function astbill_update_046() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astlogsms` CHANGE `messagedata` `messagedata` VARCHAR( 1024 ) NULL default NULL");
  $ret[] = update_sql("ALTER TABLE `astlogsms` ADD `pdu` VARCHAR( 1024 ) NULL default NULL after messagedata");
  $ret[] = update_sql("DROP TABLE astcompany");
  
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `anitypenumber` tinyint(8) DEFAULT '2' NOT NULL AFTER `type`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `invfooter` VARCHAR( 1024 ) AFTER `period` , ADD `remarks` VARCHAR( 1024 ) NOT NULL AFTER `invfooter`");
  $ret[] = update_sql("update `astsystem` set comment = 'Local Dial Timeout and Dial Parameters' where serverid = 'DEF' and name = 'DialLocal-Timeout-Parameter'");

/* extid = If you purchase address lists from extern Provider. 
This records have an id. This allows you to trace where the partner orginated*/
/* extsource = The Source of this List - ListName*/

$ret[] = update_sql("CREATE TABLE `astpartner` (
  `pid` int(10) NOT NULL auto_increment,
  `prospectid` int(10) NOT NULL default '0',
  `uid` int(10) NOT NULL default '1',
  `memberof` int(10) NOT NULL default '0',
  `extid` varchar(128) default NULL,
  `extsource` varchar(128) default NULL,
  `db_prefix` varchar(40) NOT NULL default 'pbx_',
  `iscustomer` tinyint(4) NOT NULL default '0',
  `isvendor` tinyint(4) NOT NULL default '0',
  `isprospect` tinyint(4) NOT NULL default '0',
  `company` varchar(128) NOT NULL default '',
  `firstname` varchar(128) default NULL,
  `lastname` varchar(128) default NULL,
  `contactperson` varchar(128) default NULL,
  `sosialsecurityno` varchar(128) NOT NULL default '',
  `birthdate` date NULL default NULL,
  `address1` varchar(128) NOT NULL default '',
  `address2` varchar(128) NOT NULL default '',
  `zip` varchar(64) NOT NULL default '',
  `city` varchar(128) NOT NULL default '',
  `state` varchar(128) default NULL,
  `countrycode` int(6) NOT NULL DEFAULT '0',
  `mobile` varchar(128) NOT NULL default '',
  `phonehome` varchar(128) NOT NULL default '',
  `phonework` varchar(128) NOT NULL default '',
  `fax` varchar(128) NOT NULL default '',
  `email` varchar(128) NOT NULL default '',
  `email2` varchar(128) NOT NULL default '',
  `email3` varchar(128) NOT NULL default '',
  `email4` varchar(128) NOT NULL default '',
  `website` varchar(128) NOT NULL default '',
  `status` varchar(128) NOT NULL default '',
  `customerstatus` varchar(128) NOT NULL default '',
  `subscriptiontype` varchar(128) NOT NULL default '',
  `industry` varchar(128) NOT NULL default '',
  `partnertype` varchar(128) NOT NULL default '',
  `porteringsno` varchar(128) NOT NULL default '',
  `lateporting` varchar(128) default NULL,
  `newno` varchar(128) NOT NULL default '',
  `voicemail` varchar(128) NOT NULL default '',
  `leadsource` varchar(128) NOT NULL default '',
  `date_followup` datetime NOT NULL default '0000-00-00 00:00:00',
  `comment` varchar(1024) NOT NULL default '',
  `ref` varchar(1024) default NULL,
  `date_created` datetime NOT NULL default '0000-00-00 00:00:00',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`pid`),
  KEY `company` (`company`),
  KEY `contactname` (`lastname`),
  KEY `contactperson` (`contactperson`)
) AUTO_INCREMENT=130001 ENGINE=InnoDB DEFAULT CHARSET=utf8");

  $ret[] = update_sql("INSERT INTO astpartner ( pid, company, contactperson, address1, address2, zip, city, state, country, mobile, phonework, fax, status, date_created, timestamp )
SELECT asttenant.tid, asttenant.company, asttenant.contactname, asttenant.address1, asttenant.address2, asttenant.zip, asttenant.city, asttenant.state, asttenant.country, asttenant.phone, asttenant.phone2, asttenant.fax, asttenant.status, asttenant.date_created, asttenant.timestamp
FROM asttenant");
    
  return $ret;
}

function astbill_update_047() {
  $ret = array();
  $ret[] = update_sql("ALTER TABLE `astlogsms` ADD `pid` int(10) NOT NULL default '0' AFTER `uid`");
  $ret[] = update_sql("ALTER TABLE `astprospect` ADD `date_to_vendor` datetime NULL default NULL AFTER `date_followup`");
  $ret[] = update_sql("ALTER TABLE `astpartner` ADD `date_to_vendor` datetime NULL default NULL AFTER `date_followup`");
  $ret[] = update_sql("CREATE TABLE `astacdid` (
  `countryprefix` int(4) NOT NULL default '0',
  `did` varchar(40) NOT NULL,
  `db_prefix` varchar(40) NOT NULL default 'pbx_',
  `uid` int(10) NOT NULL default '1',
  `master` varchar(40) default NULL,
  `submaster` varchar(40) default NULL,
  `acgroup` varchar(40) default NULL,
  `forwardto` varchar(255) default NULL,
  `serverid` varchar(40) default NULL,
  `active` tinyint(1) NOT NULL default '1',
  `usagecount` int(4) NOT NULL default '0',
  `portindate` datetime NULL default NULL,
  `portoutdate` datetime NULL default NULL,
  `batchno` varchar(128) NULL default NULL,
  `remarks` varchar(1024) NULL default NULL,
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`countryprefix`,`did`)  ) ENGINE=InnoDB DEFAULT CHARSET=utf8");

  $ret[] = update_sql("CREATE TABLE `astparcontact` (
  `coid` int(10) NOT NULL auto_increment,
  `pid` int(10) NOT NULL default '0',
  `uid` int(10) NOT NULL default '1',
  `leadsource` varchar(128) default NULL,
  `memberof` int(10) NOT NULL default '0',
  `extid` varchar(128) default NULL,
  `extsource` varchar(128) default NULL,
  `db_prefix` varchar(40) NOT NULL default 'pbx_',
  `firstname` varchar(128) default NULL,
  `lastname` varchar(128) default NULL,
  `sosialsecurityno` varchar(128) NOT NULL default '',
  `birthdate` date default NULL,
  `address1` varchar(128) NOT NULL default '',
  `address2` varchar(128) NOT NULL default '',
  `zip` varchar(64) NOT NULL default '',
  `city` varchar(128) NOT NULL default '',
  `state` varchar(128) default NULL,
  `country` varchar(128) NOT NULL,
  `mobile` varchar(128) NOT NULL default '',
  `phonehome` varchar(128) NOT NULL default '',
  `phonework` varchar(128) NOT NULL default '',
  `fax` varchar(128) NOT NULL default '',
  `email` varchar(128) NOT NULL default '',
  `email2` varchar(128) NOT NULL default '',
  `email3` varchar(128) NOT NULL default '',
  `email4` varchar(128) NOT NULL default '',
  `website` varchar(128) NOT NULL default '',
  `title` varchar(128) NOT NULL default '',
  `department` varchar(128) NOT NULL default '',
  `assistant` varchar(128) NOT NULL default '',
  `assistantphone` varchar(128) NOT NULL default '',
  `reportsto` int(10) NOT NULL default '0',
  `yahooid` varchar(128) NULL default NULL,
  `msnid` varchar(128) NULL default NULL,
  `status` varchar(128) NULL default NULL,
  `date_followup` datetime NOT NULL default '0000-00-00 00:00:00',
  `description` varchar(1024) default NULL,
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`coid`),
  KEY `contactname` (`lastname`),
  KEY `contactperson` (`firstname`)  ) ENGINE=InnoDB DEFAULT CHARSET=utf8");

  $ret[] = update_sql("CREATE TABLE `astorder` (
  `orderno` int(10) unsigned NOT NULL default '0',
  `db_prefix` varchar(40) NOT NULL,
  `uid` int(10) unsigned NOT NULL default '0',
  `order_date` date NOT NULL,
  `print_date` date NULL,
  `closed_date` date NULL,
  `revisionno` int(10) unsigned NOT NULL default '1',
  `refperson` varchar(128) default NULL,
  `refnr` varchar(128) default NULL,
  `paymentcode` varchar(128) NOT NULL default '',
  `currency` varchar(3) NOT NULL default 'GBP',
  `ourref` varchar(128) default NULL,
  `ourphone` varchar(128) default NULL,
  `ouremail` varchar(128) default NULL,
  `freighttype` varchar(128) default NULL,
  `freightcharge` varchar(128) default NULL,
  `ordertype` varchar(128) NULL default NULL,
  `mainservice` varchar(128) NULL default NULL,
  `servicetype` varchar(128) NULL default NULL,
  `fromlocation` varchar(128) NULL default '',
  `shipping_buyername` varchar(128) NOT NULL default '',
  `shipping_address1` varchar(128) NOT NULL default '',
  `shipping_address2` varchar(128) NOT NULL default '',
  `shipping_zip` varchar(64) NOT NULL default '',
  `shipping_city` varchar(128) NOT NULL default '',
  `shipping_state` varchar(128) NOT NULL default '',
  `shipping_countrycode` int(6) NOT NULL default '0',
  `invoice_buyername` varchar(128) NOT NULL default '',
  `invoice_address1` varchar(128) NOT NULL default '',
  `invoice_address2` varchar(128) NOT NULL default '',
  `invoice_zip` varchar(64) NOT NULL default '',
  `invoice_city` varchar(128) NOT NULL default '',
  `invoice_state` varchar(128) NOT NULL default '',
  `invoice_countrycode` int(6) NOT NULL default '0',
  `orderby_buyername` varchar(128) NOT NULL default '',
  `orderby_address1` varchar(128) NOT NULL default '',
  `orderby_address2` varchar(128) NOT NULL default '',
  `orderby_zip` varchar(64) NOT NULL default '',
  `orderby_city` varchar(128) NOT NULL default '',
  `orderby_state` varchar(128) NOT NULL default '',
  `orderby_countrycode` int(6) NOT NULL default '0',
  `email` varchar(128) NOT NULL default '',
  `email2` varchar(128) NOT NULL default '',
  `email3` varchar(128) NOT NULL default '',
  `emailcc` varchar(128) NOT NULL default '',
  `emailcc2` varchar(128) NOT NULL default '',
  `emailcc3` varchar(128) NOT NULL default '',
  `contactphone` varchar(128) NOT NULL default '',
  `orderfooter` varchar(1024) default NULL,
  `description` varchar(1024) NOT NULL,
  `adminfee` decimal(10,2) NOT NULL default '0.00',
  `frequency` int(4) NOT NULL default '0',
  `autoinvoice` tinyint(1) NOT NULL default '0',
  `coupon` varchar(255) default NULL,
  `workflow` int(10) unsigned NOT NULL default '1',
  `sumexvat` decimal(10,2) NOT NULL default '0.00',
  `vat` decimal(10,2) NOT NULL default '0.00',
  `gross` decimal(10,2) NOT NULL default '0.00',
  `status` tinyint(1) NOT NULL default '1',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`orderno`),
  KEY `inv_db_prefix` (`db_prefix`,`uid`,`orderno`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8");

  $ret[] = update_sql("CREATE TABLE `astorderline` (
  `orderno` int(11) unsigned NOT NULL,
  `lineno` int(10) unsigned NOT NULL,
  `productcode` varchar(40) default NULL,
  `qtyinvoiced` decimal(10,4) NOT NULL default '0.0000',
  `qtyordered` decimal(10,4) NOT NULL default '0.0000',
  `qtydelivered` decimal(10,4) NOT NULL default '0.0000',
  `code` varchar(40) NOT NULL default '',
  `delivery_date` date NULL,
  `fromlocation` varchar(128) NULL default '',
  `completed` tinyint(1) NOT NULL default '0',
  `phoneno` varchar(40) default NULL,
  `ptype` varchar(40) default NULL,
  `product` varchar(256) default NULL,
  `price` decimal(10,4) NOT NULL default '0.0000',
  `minutes` decimal(10,4) NOT NULL default '0.0000',
  `amount` decimal(10,2) NOT NULL default '0.00',
  `unit` varchar(5) NOT NULL default '',
  `description` varchar(1024) NOT NULL,
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`orderno`),
  UNIQUE KEY `invid` (`orderno`,`lineno`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ");

  $ret[] = update_sql("ALTER TABLE `astpartner` ADD `users_roles` varchar(256) NOT NULL default '2' AFTER `customerstatus`");
  return $ret;
}

function astbill_update_048() {
  $ret = array();
//  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `invoiceno` int(11) UNSIGNED DEFAULT NULL AFTER `extension`");
  $ret[] = update_sql("ALTER TABLE `astplans` ADD `addseconds` INT( 10 ) DEFAULT '0' NOT NULL AFTER `connectcharge`");
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `priceid` INT( 11 ) DEFAULT '0' NOT NULL AFTER `status` ");
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `countrycode` INT( 6 ) DEFAULT '0' NOT NULL AFTER `priceid` , ADD `productcode` VARCHAR( 40 ) AFTER `countrycode`");
  $ret[] = update_sql("ALTER TABLE `astpricelist` ADD `productcode` VARCHAR( 40 ) NULL DEFAULT '950'");
  $ret[] = update_sql("ALTER TABLE `astprospect` ADD `lateportingdate` DATE AFTER `lateporting`");
  $ret[] = update_sql("ALTER TABLE `astinvoice` DROP `freight`, DROP `adminfee`");
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `context` VARCHAR( 80 ) AFTER `extension`,ADD `rdnis` VARCHAR( 80 ) AFTER `context`,ADD `blindtransfer` VARCHAR( 255 ) AFTER `rdnis`");
  $ret[] = update_sql("ALTER TABLE `astcdr` ADD `dnid` VARCHAR( 80 ) AFTER `rdnis`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `pid` INT( 10 ) DEFAULT '0' NOT NULL AFTER `serverid`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `servertech` VARCHAR( 128 ) AFTER `lansshport`");
  $ret[] = update_sql("ALTER TABLE `astpartner` CHANGE `status` `active` VARCHAR( 128 ) NULL");
  $ret[] = update_sql("ALTER TABLE `astuser` CHANGE `tid` `partnerid` INT( 11 ) NULL DEFAULT '0'");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `mysqluser` VARCHAR( 128 ) AFTER `servertech` ");
  $ret[] = update_sql("ALTER TABLE `astacname` ADD `shortnumber` VARCHAR( 128 ) AFTER `accountcode` ");
  $ret[] = update_sql("drop table astsyslog");
  $ret[] = update_sql("ALTER TABLE `astcdr` CHANGE `invid` `invoiceno` INT( 11 ) UNSIGNED NULL");
  $ret[] = update_sql("DROP VIEW IF EXISTS `asvcall`");
  $ret[] = update_sql("CREATE OR REPLACE SQL SECURITY INVOKER VIEW `asvcall` AS select `astcdr`.`uniqueid`,
`astcdr`.`accountcode`,`astcdr`.`callednum`,`astuser`.`uid`,`astuser`.`brand`,`astuser`.`CountryPrefix`,
`astplans`.`markup`,`astplans`.`billincrement` 
from `astcdr`, `astaccount`, `astuser`, `astplans`
where `astcdr`.`accountcode` = `astaccount`.`accountcode` and `astaccount`.`uid` = `astuser`.`uid` and 
`astaccount`.`db_prefix` = `astuser`.`db_prefix` and `astcdr`.`brand` = `astplans`.`name`");
  $ret[] = update_sql("DROP VIEW IF EXISTS `asvcallrate`");
  
  /* Return 1 = Daytime, 2 = Evening, 3 = Weekend  Day 4 is not Norway */
  /* CASE statement will return the first value that is true */
  $ret[] = update_sql("CREATE OR REPLACE SQL SECURITY INVOKER VIEW `asvcallrate` AS 
select id, `uniqueid`, invoiceno,callednum, date_created date, dayofweek(date_created) day, CASE 
WHEN callednum not like '47%'  
THEN 4 
WHEN (dayofweek(date_created) in (1,7))  
THEN 3  
WHEN (time(date_created) < '07:00:00' or time(date_created) > '16:00:00' ) 
THEN 2 
ELSE 1 
END callrate from astcdr");

  $ret[] = update_sql("DROP VIEW IF EXISTS asvbill");
  $ret[] = update_sql("CREATE OR REPLACE SQL SECURITY INVOKER VIEW asvbill as
select accountcode, date_created, DATE_FORMAT(date_created,'%d %b %Y %H:%i:%S') as datec, callednum, answeredtime, billtime, SEC_TO_TIME(billtime) as billtime2, pricerate, 
price from astcdr where dialstatus like 'ANSWER%' and answeredtime <> 0 and trunk <> 'Local' order by date_created desc");
  $ret[] = update_sql("CREATE TABLE `astproduct` (
  `productcode` varchar(40) NOT NULL,
  `categoryid` varchar(6) NOT NULL default '',
  `description` varchar(50) NOT NULL default '',
  `longdescription` text NOT NULL,
  `units` varchar(20) NOT NULL default 'each',
  `mbflag` char(1) NOT NULL default 'B',
  `lastcurcostdate` date NOT NULL default '1800-01-01',
  `actualcost` decimal(20,4) NOT NULL default '0.0000',
  `lastcost` decimal(20,4) NOT NULL default '0.0000',
  `materialcost` decimal(20,4) NOT NULL default '0.0000',
  `labourcost` decimal(20,4) NOT NULL default '0.0000',
  `overheadcost` decimal(20,4) NOT NULL default '0.0000',
  `lowestlevel` smallint(6) NOT NULL default '0',
  `discontinued` tinyint(4) NOT NULL default '0',
  `controlled` tinyint(4) NOT NULL default '0',
  `eoq` double NOT NULL default '0',
  `volume` decimal(20,4) NOT NULL default '0.0000',
  `kgs` decimal(20,4) NOT NULL default '0.0000',
  `barcode` varchar(50) NOT NULL default '',
  `discountcategory` char(2) NOT NULL default '',
  `taxcatid` tinyint(4) NOT NULL default '1',
  `serialised` tinyint(4) NOT NULL default '0',
  `decimalplaces` tinyint(4) NOT NULL default '0',
  PRIMARY KEY  (`productcode`),
  KEY `CategoryID` (`categoryid`),
  KEY `Description` (`description`),
  KEY `LastCurCostDate` (`lastcurcostdate`),
  KEY `MBflag` (`mbflag`),
  KEY `productcode` (`productcode`,`categoryid`),
  KEY `Controlled` (`controlled`),
  KEY `DiscountCategory` (`discountcategory`),
  KEY `taxcatid` (`taxcatid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8");

  $ret[] = update_sql("drop view asvprice_uk");
  $ret[] = update_sql("drop view asvprice_uk_all");
  $ret[] = update_sql("drop view asvprice_usa");
//  $ret[] = update_sql("");
  return $ret;
}

function astbill_update_049() {
  $ret = array();

  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `voxtech` VARCHAR( 128 ) AFTER `servertech`");
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD `shortnumber` VARCHAR( 128 ) AFTER `serverid` ");
  $ret[] = update_sql("ALTER TABLE `astacname` DROP `shortnumber`");
  $ret[] = update_sql("ALTER TABLE `astaccount` ADD UNIQUE (`serverid` ,`shortnumber`)");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `dial9` VARCHAR( 256 ) AFTER `mysqluser`");
  $ret[] = update_sql("ALTER TABLE `aststatus` ADD `mysqluser2` VARCHAR( 128 ) AFTER `mysqluser`");
  $ret[] = update_sql("ALTER TABLE `astemailtext` ADD `partnerid` INT( 11 ) DEFAULT '0' NOT NULL AFTER `EmailText`");
  $ret[] = update_sql("CREATE TABLE `astlogsmsbatch` (
  `batchid` int(10) NOT NULL auto_increment,
  `pdudata` text(30720) default NULL,
  `remarks` varchar(1024) default NULL,  
  `processed_date` DATETIME default NULL,
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`batchid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
  $ret[] = update_sql("ALTER TABLE `astlogsms` ADD INDEX `fromnr` ( `fromnr` )");
  $ret[] = update_sql("ALTER TABLE `astacgroup` CHANGE `tenantid` `partnerid` INT( 11 ) NULL DEFAULT '0'");
  $ret[] = update_sql("ALTER TABLE `astprospect2` CHANGE `tid` `partnerid` INT( 11 ) NULL DEFAULT '0'");
  $ret[] = update_sql("ALTER TABLE `astemailtext` ADD `db_prefix` VARCHAR( 40 ) NOT NULL FIRST ");
  $ret[] = update_sql("ALTER TABLE `astemailtext` DROP PRIMARY KEY , ADD PRIMARY KEY ( `db_prefix` , `partnerid` , `EmailText` ) ");
  $ret[] = update_sql("ALTER TABLE `astpartner` ADD `followuptype` VARCHAR( 100 ) AFTER `leadsource` ;");
  $ret[] = update_sql("ALTER TABLE `astinvoiceline` CHANGE `ptype` `ptype` VARCHAR( 40 ) NULL DEFAULT 'Normal'");
  $ret[] = update_sql("ALTER TABLE `astacdid` ADD INDEX `uid` ( `uid` ) ");
  $ret[] = update_sql("ALTER TABLE `astacdid` ADD INDEX `did` ( `did` ) ");
  $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `layout` VARCHAR( 40 ) AFTER `workflow` ;");
  $ret[] = update_sql("ALTER TABLE `astlogsms` ADD INDEX `date_created` ( `date_created` ) ");
  $ret[] = update_sql("ALTER TABLE `astprospect` ADD INDEX `cust_status_mobile` ( `customerstatus` , `mobile` ) ");

  return $ret;
}

function astbill_update_050() {
  $ret = array();
    $ret[] = update_sql("CREATE TABLE `astpaymentbatch` (
  `batchid` int(10) NOT NULL auto_increment,
  `bankaccount` varchar(100) default NULL,
  `date_paid` varchar(50) default NULL,
  `totallines` int(11) NOT NULL default '0',
  `totalprice` decimal(10,2) NOT NULL default '0.0000',
  `filename` varchar(128) default NULL,
  `remarks` varchar(1024) default NULL,
  `date_created` timestamp NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`batchid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
    $ret[] = update_sql("ALTER TABLE `astpayment` ADD `batchid` INT( 10 ) DEFAULT '0' NOT NULL AFTER `paytype`");
    $ret[] = update_sql("ALTER TABLE `astpayment` ADD `kid` VARCHAR( 128 ) AFTER `batchid`");
    $ret[] = update_sql("ALTER TABLE `astpayment` ADD `kidbank` VARCHAR( 128 ) AFTER `kid`");
    $ret[] = update_sql("ALTER TABLE `astpayment` ADD `payment_status` VARCHAR( 255 ) AFTER `kidbank`");
    $ret[] = update_sql("ALTER TABLE `astaccount` ADD `trunkpath` VARCHAR( 128 ) AFTER `shortnumber`");
    $ret[] = update_sql("ALTER TABLE `astacdid` ADD `zipcode` VARCHAR( 128 ) NULL AFTER `batchno`");
    $ret[] = update_sql("ALTER TABLE `astlogsms` ADD `invoiceid` int(11) unsigned AFTER `date_scheduled` ");
    $ret[] = update_sql("ALTER TABLE `astlogsms` ADD `remarks` VARCHAR( 256 ) AFTER `invoiceid` ");
    $ret[] = update_sql("ALTER TABLE `astpartner` ADD `didnumberserie` VARCHAR( 256 ) DEFAULT ' ' NOT NULL AFTER `phonework`");
    $ret[] = update_sql("ALTER TABLE `astpartner` ADD `companyno` VARCHAR( 128 ) AFTER `birthdate` ,
ADD `valuecode` VARCHAR( 128 ) AFTER `companyno` ,
ADD `ordercode` VARCHAR( 128 ) AFTER `valuecode` ");
    $ret[] = update_sql("CREATE TABLE `astsumpartner` (
  `pid` int(10) NOT NULL default '0',
  `sumusers` int(10) NOT NULL default '0',
  `sumaccounts` int(10) NOT NULL default '0',
  `sumdid` int(10) NOT NULL default '0',
  PRIMARY KEY  (`pid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
    $ret[] = update_sql("CREATE TABLE `astinvrecurr` (
  `recurrno` int(11) unsigned NOT NULL auto_increment,
  `db_prefix` varchar(40) NOT NULL default '',
  `uid_in` varchar(128) NOT NULL default '',
  `partnerid` int(11) NOT NULL default '0',
  `invoice_upto_date` date NOT NULL default '0000-00-00',
  `invtype` varchar(40) NOT NULL default '',
  `lastrecurrence_date` date NOT NULL default '0000-00-00',
  `stop_date` date NOT NULL default '0000-00-00',
  `rateplan` varchar(40) NOT NULL default '',
  `invoicefee` decimal(10,2) NOT NULL default '0.00',
  `layout` varchar(40) NOT NULL default '',
  `update_clip` varchar(40) NOT NULL default '',
  `frequency` int(4) unsigned NOT NULL default '12',
  `remarks` varchar(1024) NOT NULL default '',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`recurrno`),
  KEY `partnerid` (`partnerid`,`recurrno`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
    $ret[] = update_sql("ALTER TABLE `astinvrecurr` ADD `invoiceid` INT( 11 ) DEFAULT '0' NOT NULL AFTER `frequency`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `inv_name` varchar(128) NOT NULL DEFAULT '' AFTER `kid`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `inv_address1` varchar(128) DEFAULT '' NOT NULL AFTER `inv_name` ");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `inv_address2` varchar(128) DEFAULT '' NOT NULL AFTER `inv_address1`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `inv_zip` varchar(64) DEFAULT '' NOT NULL AFTER `inv_address2`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `inv_city` varchar(128) DEFAULT '' NOT NULL AFTER `inv_zip` ");
    $ret[] = update_sql("ALTER TABLE `astinvoice` CHANGE `invoiceno` `invoiceno` INT( 11 ) UNSIGNED NOT NULL DEFAULT '0'");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `invoiceid` INT(11) NOT NULL FIRST");
    $ret[] = update_sql("ALTER TABLE `astinvoice` DROP PRIMARY KEY ");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD PRIMARY KEY (`invoiceid`)");
    $ret[] = update_sql("ALTER TABLE `astinvoice` CHANGE `invoiceid` `invoiceid` INT(11) UNSIGNED NOT NULL");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `partnerid` INT(11) DEFAULT '0' NOT NULL AFTER `uid`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` CHANGE `invoiceid` `invoiceid` INT( 11 ) UNSIGNED NOT NULL AUTO_INCREMENT");
    $ret[] = update_sql("ALTER TABLE `astcdr` CHANGE `invoiceno` `invoiceid` INT( 11 ) UNSIGNED NULL DEFAULT NULL ");
    $ret[] = update_sql("ALTER TABLE `astinvoice` CHANGE `workflow` `workflow` VARCHAR(40) NOT NULL DEFAULT '1'");
    $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD `invoiceid` INT(11) UNSIGNED NOT NULL DEFAULT '0' FIRST");
    $ret[] = update_sql("ALTER TABLE `astinvoiceline` ADD INDEX ( `invoiceid` , `lineno` )");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD INDEX `invoiceid_id` ( `invoiceid` , `id` )");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `inv_firstname` VARCHAR(128) DEFAULT '' NOT NULL AFTER `inv_name` ,
ADD `inv_lastname` VARCHAR(128) DEFAULT '' NOT NULL AFTER `inv_firstname`");
  return $ret;
}
function astbill_update_051() {
  $ret = array();
    $ret[] = update_sql("ALTER TABLE `astinvrecurr` ADD `rateplanint` VARCHAR(40) DEFAULT '' NOT NULL AFTER `rateplan`");
    $ret[] = update_sql("CREATE TABLE `astsumaccount` (
  `accountcode` varchar(40) NOT NULL,
  `countcalls` int(10) NOT NULL default '0',
  `sumcost` decimal(10,2) NOT NULL default '0.00',  
  `sumpaid` decimal(10,2) NOT NULL default '0.00',  
  PRIMARY KEY  (`accountcode`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
    $ret[] = update_sql("DROP VIEW IF EXISTS asvcallrate");
    $ret[] = update_sql("CREATE OR REPLACE SQL SECURITY INVOKER VIEW `asvcallrate` AS 
select id, `uniqueid`, invoiceid,callednum, date_created date, dayofweek(date_created) day, CASE 
WHEN callednum not like '47%'  
THEN 4 /* This is not Norway */
WHEN (dayofweek(date_created) in (1,7))  /* Day 1 and 7 is weekend */
THEN 3  /* This is weekend */
WHEN (time(date_created) < '07:00:00' or time(date_created) > '16:00:00' )  /* This is evening - Remember time differences*/
THEN 2 /* This is evening */
ELSE 1 /* This is daytime */
END callrate
from astcdr");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD `callstatus` TINYINT( 3 ) DEFAULT '0' NOT NULL AFTER `status`");
    $ret[] = update_sql("ALTER TABLE `astcdr` DROP INDEX `accountcode`");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD INDEX ( `callstatus` , `accountcode` , `date_created`)");
    $ret[] = update_sql("update astcdr set `callstatus` = 1 WHERE `astcdr`.`dialstatus` like 'ANSWER%' and `astcdr`.`answeredtime` <> 0 and `astcdr`.`trunk` <> 'Local'");
    $ret[] = update_sql("CREATE TABLE `astorderip` (
  `oid` int(10) NOT NULL auto_increment,
  `orderno` varchar(40) NOT NULL default '',
  `pid` int(10) NOT NULL default '0',
  `order_date` datetime NOT NULL default '0000-00-00 00:00:00',
  `delivery_date` datetime NOT NULL default '0000-00-00 00:00:00',
  `customers_order` varchar(256) NOT NULL default '',
  `no_bri` varchar(128) NOT NULL default '',
  `no_pri` varchar(128) NOT NULL default '',
  `crc4_on` tinyint(1) NOT NULL default '1',
  `rpid_on` tinyint(1) NOT NULL default '1',
  `protocol` varchar(40) NOT NULL default '',
  `fixed_ip` varchar(40) NOT NULL default '',
  `partners_pbx` varchar(128) NOT NULL default '',
  `partners_broadband` varchar(128) NOT NULL default '',
  `broadband_vendor` varchar(128) NOT NULL default '',
  `speed_in` varchar(40) NOT NULL default '',
  `speed_out` varchar(40) NOT NULL default '',
  `want_our_dsl` tinyint(1) NOT NULL default '0',
  `we_offer_dsl_speed` varchar(128) NOT NULL default '',
  `active` varchar(128) default NULL,
  `date_followup` datetime NOT NULL default '0000-00-00 00:00:00',
  `install_date` datetime NOT NULL default '0000-00-00 00:00:00',
  `install_by` varchar(128) NOT NULL default '',
  `remarks` varchar(1024) NOT NULL default '',
  `date_created` datetime NOT NULL default '0000-00-00 00:00:00',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`oid`),
  KEY `orderno` (`orderno`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=3000");
    $ret[] = update_sql("CREATE TABLE `astlogdb` (
  `logid` int(10) NOT NULL auto_increment,
  `tablename` varchar(40) NOT NULL default '',
  `prikey` varchar(40) NOT NULL default '',
  `action` char(1) NOT NULL default '',
  `db_prefix` varchar(40) NOT NULL default '',
  `uid` int(10) NOT NULL default '0',
  `sql` varchar(1028) NOT NULL default '',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`logid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
    $ret[] = update_sql("ALTER TABLE `astacgroup` ADD `lineno` INT DEFAULT '0' NOT NULL AFTER `active`");
    $ret[] = update_sql("ALTER TABLE `astorderip` ADD `workflow` VARCHAR( 40 ) DEFAULT '' NOT NULL AFTER `active` ,
ADD `assigned_to_uid` INT( 10 ) DEFAULT '0' NOT NULL AFTER `workflow` , ADD `assigned_to_prefix` VARCHAR( 40 ) DEFAULT '' NOT NULL AFTER `assigned_to_uid` ");
    $ret[] = update_sql("ALTER TABLE `astlogdb` ADD `workflow` VARCHAR( 40 ) DEFAULT '' NOT NULL AFTER `uid`");
    $ret[] = update_sql("ALTER TABLE `astorderip` ADD `leasing_ok` TINYINT( 1 ) DEFAULT '0' NOT NULL AFTER `customers_order` ");
    $ret[] = update_sql("ALTER TABLE `astpartner` CHANGE `comment` `comment` VARCHAR( 15360 ) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astorderip` CHANGE `remarks` `remarks` VARCHAR( 15360 ) NOT NULL DEFAULT ''");
    $ret[] = update_sql("CREATE TABLE `astsumorderip` (
  `db_prefix` varchar(40) NOT NULL default '',
  `period` varchar(40) NOT NULL default '',
  `qty` int(10) NOT NULL default '0',
  `percent` decimal(10,2) NOT NULL default '0.00',
  `total` int(10) NOT NULL default '0',
  `msn` int(10) NOT NULL default '0',
  `sip` int(10) NOT NULL default '0',
  `workflow` varchar(40) NOT NULL default '',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`db_prefix`,`period`,`workflow`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD `partnerid` INT( 11 ) NOT NULL DEFAULT '0' AFTER `submaster` ,
ADD `uid` INT( 10 ) NOT NULL DEFAULT '0' AFTER `partnerid`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `journalno` INT( 11 ) NOT NULL DEFAULT '0' AFTER `invoiceno`");
    $ret[] = update_sql("ALTER TABLE `astpaymentbatch` ADD `journalno` INT( 11 ) NOT NULL DEFAULT '0' AFTER `batchid`");
    $ret[] = update_sql("ALTER TABLE `astacdid` ADD `forwardtmp` VARCHAR(255) DEFAULT '' NOT NULL AFTER `forwardto`");
    $ret[] = update_sql("ALTER TABLE `astacdid` ADD `fylkekode` CHAR(2) DEFAULT '' NOT NULL AFTER `zipcode`");
    $ret[] = update_sql("ALTER TABLE `astacdid` CHANGE `forwardtmp` `redirectalways` VARCHAR( 255 ) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astacdid` ADD `redirectevent` CHAR(1) DEFAULT 'N' NOT NULL AFTER `forwardto`");
    $ret[] = update_sql("ALTER TABLE `astacdid` ADD `redirectbusy` VARCHAR(255) DEFAULT '' NOT NULL AFTER `redirectalways`");
    $ret[] = update_sql("ALTER TABLE `astacdid` ADD `redirecttimeout` VARCHAR(255) DEFAULT '' NOT NULL AFTER `redirectbusy`");
    $ret[] = update_sql("ALTER TABLE `astacdid` ADD `redirecttimeoutsec` int(4) DEFAULT '15' NOT NULL AFTER `redirecttimeout`");
    $ret[] = update_sql("ALTER TABLE `astplans` ADD `remarks` varchar(256) DEFAULT '' NOT NULL");
  return $ret;
}
function astbill_update_052() {
  $ret = array();
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD `rateplan3` varchar(128) DEFAULT '' NOT NULL AFTER `brand`");
    $ret[] = update_sql("CREATE TABLE `astccnrate` (
  `id` int(11) NOT NULL auto_increment,
  `rateplan` varchar(128) NOT NULL default '',
  `rategroup` varchar(128) NOT NULL default '',
  `ccn` int(11) NOT NULL default '0',
  `ratecode` varchar(4) NOT NULL default '',
  `weight` tinyint(4) NOT NULL default '0',
  `connectcharge` decimal(12,4) NOT NULL default '0.0000',
  `includedseconds` decimal(12,4) NOT NULL default '0.0000',
  `minimumrate` decimal(12,4) NOT NULL default '0.0000',
  `rate` decimal(12,4) NOT NULL default '0.0000',
  `rateoffpeak` decimal(12,4) NOT NULL default '0.0000',
  `rateweekend` decimal(12,4) NOT NULL default '0.0000',
  `remarks` varchar(256) NOT NULL default '',
  PRIMARY KEY  (`id`),
  UNIQUE KEY `rateplanccn` (`rateplan`,`ccn`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=10000");
    $ret[] = update_sql("ALTER TABLE `astacgroup` ADD `language2` varchar(256) DEFAULT '' NOT NULL");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD `ccn` int(11) DEFAULT '0' NOT NULL AFTER `priceid`");
    $ret[] = update_sql("DROP VIEW IF EXISTS `asvcallrate`");
          /* Remember the order of 'case when' is important as the statement close when first match  */
    $ret[] = update_sql("CREATE VIEW `asvcallrate` AS select `astcdr`.`id` AS `id`,`astcdr`.`uniqueid` AS `uniqueid`,
`astcdr`.`invoiceid` AS `invoiceid`,`astcdr`.`callednum` AS `callednum`,`astcdr`.`date_created` AS `date`,
dayofweek(`astcdr`.`date_created`) AS `day`,
(case when not((`astcdr`.`callednum` like '47%')) then 4 
when not((`astcdr`.`ccn` in (11,903,904,924,905,16,901,906,900,897,898,35,902))) then 1 
when (dayofweek(`astcdr`.`date_created`) in (1,7)) then 3 when ((cast(`astcdr`.`date_created` as time) 
< '08:00:00') or (cast(`astcdr`.`date_created` as time) > '17:00:00')) then 2  
else 1 end) AS `callrate`, 
ccn, brand rateplan, rateplan3
from `astcdr`");
    $ret[] = update_sql("DROP VIEW IF EXISTS `asvcallrate2`");
    $ret[] = update_sql("CREATE VIEW `asvcallrate2` AS select asv.*, 
CASE asv.callrate WHEN 1 THEN rat.rate WHEN 2 THEN rat.rateoffpeak WHEN 3 THEN rat.rateweekend ELSE rat.rate END rate
from asvcallrate asv, astccnrate rat
where asv.ccn = rat.ccn and asv.rateplan = rat.rateplan");
    $ret[] = update_sql("DROP VIEW IF EXISTS `asvcallrate3`");
    $ret[] = update_sql("CREATE VIEW `asvcallrate3` AS select asv.*, 
CASE asv.callrate WHEN 1 THEN rat.rate WHEN 2 THEN rat.rateoffpeak WHEN 3 THEN rat.rateweekend ELSE rat.rate END rate
from asvcallrate asv, astccnrate rat
where asv.ccn = rat.ccn and asv.rateplan3 = rat.rateplan");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD `billtime3` int(11) DEFAULT '0' NOT NULL AFTER `billtime");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD `price3` decimal(10,2) DEFAULT '0.00' NOT NULL AFTER `price`");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD `invoiceid3` int(11) DEFAULT '0' NOT NULL AFTER `invoiceid`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` CHANGE `remarks` `remarks` VARCHAR( 1024 ) NOT NULL DEFAULT ''");
    // Show list of PDF reports
    $ret[] = update_sql("DROP TABLE IF EXISTS `astreport`");

// if `selectbox1` = 0 = Not Used
// if `selectbox1` = 1 = Normal Text Box
// if `selectbox1` = 2 = Drop Down List
// if `selectbox1` = 3 = Date Selector

// in the `classfile` we store the name of the `classfile` to use like pdfliste.php
// To populate require('modules/astprof/pdfliste.php');
// `function` is the functon name that starts this report

    $ret[] = update_sql("CREATE TABLE `astreport` (
  `repid` int(10) NOT NULL auto_increment,
  `reportgroup` varchar(40) NOT NULL default '',
  `reportorder` int(6) NOT NULL default '0',
  `reportname` varchar(256) NOT NULL default '',
  `reportname2` varchar(256) NOT NULL default '',
  `classfile` varchar(128) NOT NULL default '',
  `functionname` varchar(128) NOT NULL default '',
  `functionphp` varchar(1024) NOT NULL default '',
  `header` varchar(1024) NOT NULL default '',
  `footer` varchar(1024) NOT NULL default '',
  `orientation` char(1) NOT NULL default 'P',
  `unit` varchar(2) NOT NULL default 'mm',
  `format` varchar(2) NOT NULL default 'A4',
  `selectbox1` tinyint(2) NOT NULL default '0',
  `selectbox2` tinyint(2) NOT NULL default '0',
  `selectbox3` tinyint(2) NOT NULL default '0',
  `selectbox4` tinyint(2) NOT NULL default '0',
  `selectbox5` tinyint(2) NOT NULL default '0',
  `selectbox6` tinyint(2) NOT NULL default '0',
  `isfile`     tinyint(1) NOT NULL default '1',
  `description` varchar(1024) NOT NULL default '',
  `remarks` varchar(1024) NOT NULL default '',
   `active` tinyint(1) NOT NULL default '1',
  `date_created` datetime NOT NULL default '0000-00-00 00:00:00',
  `timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`repid`),
  KEY `reportgroup` (`reportgroup`,`reportorder`,`reportname`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
    $ret[] = update_sql("CREATE TABLE `astreplication` (
  `id` int(11) NOT NULL auto_increment,
  `server` varchar(255) NOT NULL default '',
  `tbname` varchar(255) NOT NULL default '',
  `counts` int(11) NOT NULL default '0',
  `date` datetime NOT NULL default '0000-00-00 00:00:00',
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");
    $ret[] = update_sql("alter table asthardwareid rename asthardwaretype");
    $ret[] = update_sql("ALTER TABLE `asthardwaretype` ADD `macoui` varchar(6) DEFAULT '' NOT NULL AFTER `hardware`");
    $ret[] = update_sql("update asthardwaretype set macoui = concat(mac1,mac2,mac3) where mac1 is not null");
    $ret[] = update_sql("alter table asthardwaretype drop mac1");
    $ret[] = update_sql("alter table asthardwaretype drop mac2");
    $ret[] = update_sql("alter table asthardwaretype drop mac3");
    $ret[] = update_sql("ALTER TABLE `asthardwaretype` CHANGE `comment` `remarks` varchar(1024) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardwaretype` CHANGE `hardware` `hardware` varchar(256) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardwaretype` ADD `organization` varchar(256) DEFAULT '' NOT NULL AFTER `hardware`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `mac` varchar(12) DEFAULT '' NOT NULL AFTER `hardwareid`");
    $ret[] = update_sql("update asthardware set mac = concat(mac4,mac5,mac6) where mac4 is not null");
    $ret[] = update_sql("alter table asthardware drop mac4");
    $ret[] = update_sql("alter table asthardware drop mac5");
    $ret[] = update_sql("alter table asthardware drop mac6");
    $ret[] = update_sql("ALTER TABLE `asthardware` CHANGE `hardwareid` `hid` int(10) NOT NULL default '0'");
    $ret[] = update_sql("ALTER TABLE `asthardware` CHANGE `id` `hardwareid` int(10) unsigned NOT NULL auto_increment");
    $ret[] = update_sql("update astaccount acc, asthardware hw set acc.hardwareid = hw.hardwareid where acc.accountcode = hw.accountcode");
    $ret[] = update_sql("alter table asthardware drop accountcode");
    $ret[] = update_sql("ALTER TABLE `asthardware` CHANGE `comment` `remarks` varchar(1024) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` CHANGE `serialnumber` `serialnumber` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `wandhcp` tinyint(1) DEFAULT '1' NOT NULL AFTER `remarks`");
    $ret[] = update_sql("ALTER TABLE `asthardware` CHANGE `ipaddress` `wanip` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` CHANGE `subnet` `wansubnet` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` CHANGE `port` `wangateway` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("alter table asthardware drop sip2");
    $ret[] = update_sql("alter table asthardware drop ipaddress2");
    $ret[] = update_sql("alter table asthardware drop subnet2");
  return $ret;
}
/*
function astbill_update_999() {
  $ret = array();
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
  return $ret;
}
*/
function astbill_update_053() {
  $ret = array();
    $ret[] = update_sql("alter table asthardware drop port2");
    $ret[] = update_sql("alter table asthardware drop sip3");
    $ret[] = update_sql("alter table asthardware drop ipaddress3");
    $ret[] = update_sql("alter table asthardware drop subnet3");
    $ret[] = update_sql("alter table asthardware drop port3");
    $ret[] = update_sql("alter table asthardware drop sip4");
    $ret[] = update_sql("alter table asthardware drop ipaddress4");
    $ret[] = update_sql("alter table asthardware drop subnet4");
    $ret[] = update_sql("alter table asthardware drop port4");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `landhcp` tinyint(1) DEFAULT '1' NOT NULL AFTER `wangateway`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `lanip` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `lansubnet` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `langateway` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `telnetport` varchar(4) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `webport` varchar(4) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri0protocol` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri0uniside` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri1protocol` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri1uniside` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri2protocol` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri2uniside` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri3protocol` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri3uniside` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri4protocol` varchar(10) NOT NULL DEFAULT '' AFTER `bri3uniside`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `bri4uniside` varchar(10) NOT NULL DEFAULT '' AFTER `bri4protocol`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `faxclip` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `dialmodem` varchar(10) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `map_rpid_default` varchar(1024) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `map_rpid1` varchar(1024) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `adminuser` varchar(128) DEFAULT '' NOT NULL AFTER `webport`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `adminpassword` varchar(128) DEFAULT '' NOT NULL AFTER `adminuser`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `active` tinyint(1) NOT NULL default '1' AFTER `landhcp`");
    $ret[] = update_sql("ALTER TABLE `asthardwaretype` ADD `active` tinyint(1) NOT NULL default '1' AFTER `remarks`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `configupdate` int(11) NOT NULL default '60' AFTER `timestamp`");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `digitcollection` tinyint(2) NOT NULL default '4'");
    $ret[] = update_sql("ALTER TABLE `asthardware` ADD `reglifetime` tinyint(4) NOT NULL default '90'");
    $ret[] = update_sql("ALTER TABLE `asthardwaretype` ADD `templatefile` varchar(128) NOT NULL default ''");
    $ret[] = update_sql("ALTER TABLE `astpayment` ADD `generalledger` varchar(255) NOT NULL DEFAULT '' AFTER `accountcode`");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `label1` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `label2` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `label3` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `label4` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `label5` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `label6` varchar(128) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `dropdownsql1` varchar(256) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `dropdownsql2` varchar(256) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `dropdownsql3` varchar(256) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `dropdownsql4` varchar(256) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `dropdownsql5` varchar(256) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astreport` ADD `dropdownsql6` varchar(256) NOT NULL DEFAULT ''");
    $ret[] = update_sql("ALTER TABLE `astpartner` ADD `partnerclass` varchar(128) NOT NULL DEFAULT '' AFTER extsource");
    $ret[] = update_sql("ALTER TABLE `astpartner` CHANGE `active` `active` tinyint(1) NOT NULL default '1'");
    $ret[] = update_sql("ALTER TABLE `astpartner` ADD INDEX ( `partnerclass` ) ");
    $ret[] = update_sql("ALTER TABLE `astplans` CHANGE `status` `active` tinyint(1) NOT NULL default '1'");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `fromdate` datetime NOT NULL DEFAULT '0000-00-00 00:00:00' AFTER `period`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `todate` datetime NOT NULL DEFAULT '0000-00-00 00:00:00' AFTER `fromdate`");
    $ret[] = update_sql("ALTER TABLE `astplans` ADD `intconnectcharge` decimal(12,4) NOT NULL default '0.0000' AFTER `connectcharge`");
    $ret[] = update_sql("alter table astinvoice drop payment_method");
    $ret[] = update_sql("alter table astinvoice drop is_recurring");
    $ret[] = update_sql("ALTER TABLE astinvoice ADD reminder tinyint(2) NOT NULL default '0' AFTER payment_status");
    $ret[] = update_sql("ALTER TABLE astinvoice ADD reminderemail tinyint(2) NOT NULL default '0' AFTER reminder");
    $ret[] = update_sql("INSERT INTO `astsystem` ( `serverid` , `name` , `value` , `comment` , `viewstatus` , `timestamp` )
VALUES (
'DEF', 'pricelistfooter', 'Rates are valid 24 hrs\\nAll amounts are in NOK\\nRates apply worldwide and exclude VAT\\nAll rates are subject to change without notice\\nRates and availability is subject to change without notice\\nWe do not accept liability for any errors or omissions.', 'This will be shown as a footer at the end of the PDF Price Lists', 'E', NOW( )
)");
    $ret[] = update_sql("alter table astparcontact drop uid");
    $ret[] = update_sql("alter table astparcontact drop memberof");
    $ret[] = update_sql("alter table astparcontact drop status");
    $ret[] = update_sql("ALTER TABLE astparcontact ADD `date_created` datetime NOT NULL default '0000-00-00 00:00:00' AFTER description");
    $ret[] = update_sql("ALTER TABLE astparcontact ADD `active` tinyint(1) NOT NULL default '1' AFTER description");
    $ret[] = update_sql("ALTER TABLE astparcontact CHANGE description remarks varchar(15360) NOT NULL default ''");
  return $ret;
}

function astbill_update_054() {
  $ret = array();
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD INDEX `invoiceid_ccn` ( `invoiceid` , `ccn` )");
    $ret[] = update_sql("ALTER TABLE `astcdr` ADD INDEX `invoiceid_account_ccn` ( `invoiceid` , `accountcode`,`ccn` )");
    $ret[] = update_sql("alter table astinvoiceline drop invoiceno");
    $ret[] = update_sql("ALTER TABLE astinvoiceline ADD `isoid` char(2) NOT NULL default '' AFTER productcode");
    $ret[] = update_sql("ALTER TABLE astinvrecurr ADD `active` tinyint(1) NOT NULL default '1' AFTER invoiceid");
    $ret[] = update_sql("ALTER TABLE astsystem CHANGE value value varchar(2048) NOT NULL default ''");
    $ret[] = update_sql("ALTER TABLE astorderip ADD agentuid int(10) unsigned NOT NULL default '0' after workflow");
    $ret[] = update_sql("ALTER TABLE astorderip ADD agentremarks text NOT NULL default '' after agentuid");
    $ret[] = update_sql("CREATE TABLE `astccnccode` (
  `isoid` char(2) NOT NULL default '',
  `countrycode` int(11) NOT NULL default '0',
  PRIMARY KEY  (`isoid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");

    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ad', 376)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ae', 971)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('af', 93)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ag', 1268)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ai', 1264)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('al', 355)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('am', 374)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('an', 599)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ao', 244)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('aq', 6721)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ar', 54)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('as', 684)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('at', 43)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('au', 61)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('aw', 297)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ax', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('az', 994)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ba', 387)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bb', 1246)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bd', 880)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('be', 32)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bf', 226)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bg', 359)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bh', 973)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bi', 257)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bj', 229)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bm', 1441)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bn', 673)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bo', 591)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('br', 55)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bs', 1242)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bt', 975)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bv', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bw', 267)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('by', 375)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('bz', 501)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ca', 1)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cc', 672)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cd', 243)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cf', 236)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cg', 242)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ch', 41)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ci', 225)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ck', 682)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cl', 56)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cm', 237)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cn', 86)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('co', 57)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cr', 506)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cu', 53)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cv', 238)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cx', 672)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cy', 357)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('cz', 420)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('de', 49)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('dj', 253)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('dk', 45)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('dm', 1767)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('do', 1809)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('dz', 213)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ec', 593)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ee', 372)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('eg', 20)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('eh', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('er', 291)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('es', 34)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('et', 251)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('fi', 358)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('fj', 679)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('fk', 500)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('fm', 691)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('fo', 298)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('fr', 33)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ga', 241)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gb', 44)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gd', 1473)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ge', 995)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gf', 594)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gg', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gh', 233)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gi', 350)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gl', 299)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gm', 220)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gn', 224)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gp', 590)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gq', 240)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gr', 30)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gs', 995)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gt', 502)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gu', 671)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gw', 245)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('gy', 592)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('hk', 852)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('hm', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('hn', 504)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('hr', 385)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ht', 509)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('hu', 36)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('id', 62)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ie', 353)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('il', 972)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('im', 44)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('in', 91)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('io', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('iq', 964)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ir', 98)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('is', 354)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('it', 39)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('je', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('jm', 1876)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('jo', 962)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('jp', 81)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ke', 254)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('kg', 996)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('kh', 855)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ki', 686)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('km', 269)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('kn', 1869)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('kp', 82)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('kr', 850)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('kw', 965)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ky', 1345)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('kz', 7)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('la', 856)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('lb', 961)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('lc', 1758)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('li', 423)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('lk', 94)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('lr', 231)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ls', 266)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('lt', 370)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('lu', 352)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('lv', 371)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ly', 218)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ma', 212)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mc', 377)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('md', 373)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('me', 382)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mg', 261)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mh', 692)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mk', 389)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ml', 223)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mm', 95)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mn', 976)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mo', 853)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mp', 1670)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mq', 596)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mr', 222)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ms', 1664)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mt', 356)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mu', 230)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mv', 960)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mw', 265)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mx', 52)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('my', 60)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('mz', 258)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('na', 264)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('nc', 687)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ne', 227)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('nf', 6723)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ng', 234)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ni', 505)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('nl', 31)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('no', 47)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('np', 977)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('nr', 674)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('nu', 683)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('nz', 64)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('om', 968)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pa', 507)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pe', 51)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pf', 689)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pg', 675)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ph', 63)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pk', 92)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pl', 48)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pm', 508)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pn', 64)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pr', 1787)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ps', 970)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pt', 351)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('pw', 680)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('py', 595)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('qa', 974)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('re', 262)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ro', 40)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('rs', 381)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ru', 7)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('rw', 250)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sa', 966)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sb', 677)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sc', 248)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sd', 249)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('se', 46)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sg', 65)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sh', 290)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('si', 386)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sj', 47)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sk', 421)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sl', 232)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sm', 378)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sn', 221)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('so', 252)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sr', 597)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('st', 239)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sv', 503)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sy', 963)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('sz', 268)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tc', 1649)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('td', 235)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tf', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tg', 228)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('th', 66)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tj', 992)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tk', 690)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tl', 670)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tm', 993)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tn', 216)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('to', 676)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tr', 90)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tt', 1868)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tv', 688)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tw', 886)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('tz', 255)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ua', 380)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ug', 256)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('um', 0)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('us', 1)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('uy', 598)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('uz', 998)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('va', 379)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('vc', 1784)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ve', 58)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('vg', 1284)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('vi', 1340)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('vn', 84)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('vu', 678)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('wf', 681)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ws', 685)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('ye', 967)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('yt', 269)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('yu', 381)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('z8', 247)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('za', 27)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('zm', 260)");
    $ret[] = update_sql("INSERT INTO `astccnccode` VALUES ('zw', 263)");

  return $ret;
}

function astbill_update_055() {
  $ret = array();
    $ret[] = update_sql("CREATE TABLE `astccniso` (
  `language` char(2) NOT NULL default '',
  `isoid` char(2) NOT NULL default '',
  `country` varchar(128) NOT NULL default '',
  `country2` varchar(128) NOT NULL default '',
  `active` tinyint(1) NOT NULL default '1',
  PRIMARY KEY  (`language`,`isoid`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1");


    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'hu', 'Hungary', 'Hungary', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'is', 'Iceland', 'Iceland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'in', 'India', 'India', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'id', 'Indonesia', 'Indonesia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ir', 'Iran (Islamic Republic Of)', 'Iran (Islamic Republic Of)', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'iq', 'Iraq', 'Iraq', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ie', 'Ireland', 'Ireland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'im', 'Isle Of Man', 'Isle Of Man', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'il', 'Israel', 'Israel', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'it', 'Italy', 'Italy', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'jm', 'Jamaica', 'Jamaica', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'jp', 'Japan', 'Japan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'je', 'Jersey', 'Jersey', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'jo', 'Jordan', 'Jordan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'kz', 'Kazakhstan', 'Kazakhstan', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ke', 'Kenya', 'Kenya', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ki', 'Kiribati', 'Kiribati', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'kr', 'Korea (North), Democratic People''S Republic', 'Korea (North), Democratic People''S Republic', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'kp', 'Korea (South), Republic Of', 'Korea (South), Republic Of', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'kw', 'Kuwait', 'Kuwait', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'kg', 'Kyrgyzstan', 'Kyrgyzstan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'la', 'Lao People''S Democratic Republic', 'Lao People''S Democratic Republic', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'lv', 'Latvia', 'Latvia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'lb', 'Lebanon', 'Lebanon', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ls', 'Lesotho', 'Lesotho', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'lr', 'Liberia', 'Liberia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ly', 'Libyan Arab Jamahiriya', 'Libyan Arab Jamahiriya', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'li', 'Liechtenstein', 'Liechtenstein', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'lt', 'Lithuania', 'Lithuania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'lu', 'Luxembourg', 'Luxembourg', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mo', 'Macao', 'Macao', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mk', 'Macedonia, The Former Yugoslav Republic Of', 'Macedonia, The Former Yugoslav Republic Of', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mg', 'Madagascar', 'Madagascar', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mw', 'Malawi', 'Malawi', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'my', 'Malaysia', 'Malaysia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mv', 'Maldives', 'Maldives', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ml', 'Mali', 'Mali', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mt', 'Malta', 'Malta', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mh', 'Marshall Islands', 'Marshall Islands', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mq', 'Martinique', 'Martinique', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mr', 'Mauritania', 'Mauritania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mu', 'Mauritius', 'Mauritius', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'yt', 'Mayotte', 'Mayotte', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mx', 'Mexico', 'Mexico', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'fm', 'Micronesia, Federated States Of', 'Micronesia, Federated States Of', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'md', 'Moldova, Republic Of', 'Moldova, Republic Of', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mc', 'Monaco', 'Monaco', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'me', 'Montenegro', 'Montenegro', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mn', 'Mongolia', 'Mongolia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ms', 'Montserrat', 'Montserrat', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ma', 'Morocco', 'Morocco', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mz', 'Mozambique', 'Mozambique', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mm', 'Myanmar', 'Myanmar', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'na', 'Namibia', 'Namibia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'nr', 'Nauru', 'Nauru', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'np', 'Nepal', 'Nepal', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'nl', 'Netherlands', 'Netherlands', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'an', 'Netherlands Antilles', 'Netherlands Antilles', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'nc', 'New Caledonia', 'New Caledonia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'nz', 'New Zealand', 'New Zealand', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ni', 'Nicaragua', 'Nicaragua', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ne', 'Niger', 'Niger', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ng', 'Nigeria', 'Nigeria', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'nu', 'Niue', 'Niue', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'nf', 'Norfolk Island', 'Norfolk Island', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'mp', 'Northern Mariana Islands', 'Northern Mariana Islands', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'no', 'Norway', 'Norway', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'om', 'Oman', 'Oman', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pk', 'Pakistan', 'Pakistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pw', 'Palau', 'Palau', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ps', 'Palestinian Territory', 'Palestinian Territory', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pa', 'Panama', 'Panama', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pg', 'Papua New Guinea', 'Papua New Guinea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'py', 'Paraguay', 'Paraguay', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pe', 'Peru', 'Peru', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ph', 'Philippines', 'Philippines', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pn', 'Pitcairn', 'Pitcairn', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pl', 'Poland', 'Poland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pt', 'Portugal', 'Portugal', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pr', 'Puerto Rico', 'Puerto Rico', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'qa', 'Qatar', 'Qatar', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 're', 'Reunion', 'Reunion', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ro', 'Romania', 'Romania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ru', 'Russian Federation', 'Russian Federation', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'rw', 'Rwanda', 'Rwanda', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sh', 'Saint Helena', 'Saint Helena', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'kn', 'Saint Kitts And Nevis', 'Saint Kitts And Nevis', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'lc', 'Saint Lucia', 'Saint Lucia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pm', 'Saint Pierre And Miquelon', 'Saint Pierre And Miquelon', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'vc', 'Saint Vincent And The Grenadines', 'Saint Vincent And The Grenadines', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ws', 'Samoa', 'Samoa', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sm', 'San Marino', 'San Marino', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'st', 'Sao Tome And Principe', 'Sao Tome And Principe', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sa', 'Saudi Arabia', 'Saudi Arabia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sn', 'Senegal', 'Senegal', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'rs', 'Serbia', 'Serbia', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sc', 'Seychelles', 'Seychelles', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sl', 'Sierra Leone', 'Sierra Leone', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sg', 'Singapore', 'Singapore', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sk', 'Slovakia', 'Slovakia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'si', 'Slovenia', 'Slovenia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sb', 'Solomon Islands', 'Solomon Islands', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'so', 'Somalia', 'Somalia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'za', 'South Africa', 'South Africa', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gs', 'South Georgia And The South Sandwich Islands', 'South Georgia And The South Sandwich Islands', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'es', 'Spain', 'Spain', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'lk', 'Sri Lanka', 'Sri Lanka', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sd', 'Sudan', 'Sudan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sr', 'Suriname', 'Suriname', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sj', 'Svalbard And Jan Mayen', 'Svalbard And Jan Mayen', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sz', 'Swaziland', 'Swaziland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'se', 'Sweden', 'Sweden', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ch', 'Switzerland', 'Switzerland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sy', 'Syrian Arab Republic', 'Syrian Arab Republic', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tw', 'Taiwan, Province Of China', 'Taiwan, Province Of China', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tj', 'Tajikistan', 'Tajikistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tz', 'Tanzania, United Republic Of', 'Tanzania, United Republic Of', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'th', 'Thailand', 'Thailand', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tl', 'Timor-leste', 'Timor-leste', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tg', 'Togo', 'Togo', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tk', 'Tokelau', 'Tokelau', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'to', 'Tonga', 'Tonga', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tt', 'Trinidad And Tobago', 'Trinidad And Tobago', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tn', 'Tunisia', 'Tunisia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tr', 'Turkey', 'Turkey', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tm', 'Turkmenistan', 'Turkmenistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tc', 'Turks And Caicos Islands', 'Turks And Caicos Islands', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tv', 'Tuvalu', 'Tuvalu', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ug', 'Uganda', 'Uganda', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ua', 'Ukraine', 'Ukraine', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ae', 'United Arab Emirates', 'United Arab Emirates', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gb', 'United Kingdom', 'United Kingdom', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'us', 'United States', 'United States', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'um', 'United States Minor Outlying Islands', 'United States Minor Outlying Islands', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'uy', 'Uruguay', 'Uruguay', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'uz', 'Uzbekistan', 'Uzbekistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'vu', 'Vanuatu', 'Vanuatu', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'va', 'Vatican City State (Holy See)', 'Vatican City State (Holy See)', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 've', 'Venezuela', 'Venezuela', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'vn', 'Viet Nam', 'Viet Nam', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'vg', 'Virgin Islands (British)', 'Virgin Islands (British)', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'vi', 'Virgin Islands (U.S.)', 'Virgin Islands (U.S.)', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'wf', 'Wallis And Futuna', 'Wallis And Futuna', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'eh', 'Western Sahara', 'Western Sahara', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ye', 'Yemen', 'Yemen', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'yu', 'Yugoslavia', 'Yugoslavia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'zm', 'Zambia', 'Zambia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'zw', 'Zimbabwe', 'Zimbabwe', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'af', 'Afghanistan', 'Afghanistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ax', 'Aland Islands', 'Aland Islands', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'al', 'Albania', 'Albania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'dz', 'Algeria', 'Algeria', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'as', 'American Samoa', 'American Samoa', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ad', 'Andorra', 'Andorra', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ao', 'Angola', 'Angola', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ai', 'Anguilla', 'Anguilla', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'aq', 'Antarctica', 'Antarctica', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ag', 'Antigua And Barbuda', 'Antigua And Barbuda', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ar', 'Argentina', 'Argentina', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'am', 'Armenia', 'Armenia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'aw', 'Aruba', 'Aruba', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'au', 'Australia', 'Australia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'at', 'Austria', 'Austria', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'az', 'Azerbaijan', 'Azerbaijan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bs', 'Bahamas', 'Bahamas', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bh', 'Bahrain', 'Bahrain', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bd', 'Bangladesh', 'Bangladesh', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bb', 'Barbados', 'Barbados', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'by', 'Belarus', 'Belarus', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'be', 'Belgium', 'Belgium', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bz', 'Belize', 'Belize', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bj', 'Benin', 'Benin', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bm', 'Bermuda', 'Bermuda', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bt', 'Bhutan', 'Bhutan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bo', 'Bolivia', 'Bolivia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ba', 'Bosnia And Herzegovina', 'Bosnia And Herzegovina', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bw', 'Botswana', 'Botswana', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bv', 'Bouvet Island', 'Bouvet Island', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'br', 'Brazil', 'Brazil', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'io', 'British Indian Ocean Territory', 'British Indian Ocean Territory', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bn', 'Brunei Darussalam', 'Brunei Darussalam', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bg', 'Bulgaria', 'Bulgaria', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bf', 'Burkina Faso', 'Burkina Faso', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'bi', 'Burundi', 'Burundi', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'kh', 'Cambodia', 'Cambodia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cm', 'Cameroon', 'Cameroon', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ca', 'Canada', 'Canada', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cv', 'Cape Verde', 'Cape Verde', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ky', 'Cayman Islands', 'Cayman Islands', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cf', 'Central African Republic', 'Central African Republic', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'td', 'Chad', 'Chad', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cl', 'Chile', 'Chile', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cn', 'China', 'China', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cx', 'Christmas Island', 'Christmas Island', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cc', 'Cocos (Keeling) Islands', 'Cocos (Keeling) Islands', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'co', 'Colombia', 'Colombia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'km', 'Comoros', 'Comoros', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cg', 'Congo', 'Congo', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cd', 'Congo, The Democratic Republic Of The', 'Congo, The Democratic Republic Of The', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ck', 'Cook Islands', 'Cook Islands', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cr', 'Costa Rica', 'Costa Rica', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ci', 'Cote D''Ivoire', 'Cote D''Ivoire', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'hr', 'Croatia', 'Croatia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cu', 'Cuba', 'Cuba', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cy', 'Cyprus', 'Cyprus', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'cz', 'Czech Republic', 'Czech Republic', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'dk', 'Denmark', 'Denmark', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'dj', 'Djibouti', 'Djibouti', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'dm', 'Dominica', 'Dominica', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'do', 'Dominican Republic', 'Dominican Republic', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ec', 'Ecuador', 'Ecuador', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'eg', 'Egypt', 'Egypt', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'sv', 'El Salvador', 'El Salvador', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gq', 'Equatorial Guinea', 'Equatorial Guinea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'er', 'Eritrea', 'Eritrea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ee', 'Estonia', 'Estonia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'et', 'Ethiopia', 'Ethiopia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'fk', 'Falkland Islands (Malvinas)', 'Falkland Islands (Malvinas)', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'fo', 'Faroe Islands', 'Faroe Islands', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'fj', 'Fiji', 'Fiji', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'fi', 'Finland', 'Finland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'fr', 'France', 'France', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gf', 'French Guiana', 'French Guiana', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'pf', 'French Polynesia', 'French Polynesia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'tf', 'French Southern Territories', 'French Southern Territories', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ga', 'Gabon', 'Gabon', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gm', 'Gambia', 'Gambia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ge', 'Georgia', 'Georgia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'de', 'Germany', 'Germany', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gh', 'Ghana', 'Ghana', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gi', 'Gibraltar', 'Gibraltar', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gr', 'Greece', 'Greece', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gl', 'Greenland', 'Greenland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gd', 'Grenada', 'Grenada', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gp', 'Guadeloupe', 'Guadeloupe', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gu', 'Guam', 'Guam', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gt', 'Guatemala', 'Guatemala', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gg', 'Guernsey', 'Guernsey', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gn', 'Guinea', 'Guinea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gw', 'Guinea-bissau', 'Guinea-bissau', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'gy', 'Guyana', 'Guyana', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'ht', 'Haiti', 'Haiti', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'hm', 'Heard Island And Mcdonald Islands', 'Heard Island And Mcdonald Islands', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'hn', 'Honduras', 'Honduras', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'hk', 'Hong Kong', 'Hong Kong', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'hu', 'Ungarn', 'Ungarn', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'is', 'Island', 'Island', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'in', 'India', 'India', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'id', 'Indonesia', 'Indonesia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ir', 'Iran', 'Iran', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'iq', 'Irak', 'Irak', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ie', 'Irland', 'Irland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'im', 'Isle Of Man', 'Isle Of Man', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'il', 'Israel', 'Israel', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'it', 'Italia', 'Italia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'jm', 'Jamaica', 'Jamaica', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'jp', 'Japan', 'Japan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'je', 'Jersey', 'Jersey', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'jo', 'Jordan', 'Jordan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'kz', 'Kasakhstan', 'Kasakhstan', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ke', 'Kenya', 'Kenya', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ki', 'Kiribati', 'Kiribati', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'kp', 'Korea, Sr', 'Nord-Korea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'kr', 'Korea, Nord', 'Korea, Nord', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'kw', 'Kuwait', 'Kuwait', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'kg', 'Kirgistan', 'Kirgistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'la', 'Laos', 'Laos', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'lv', 'Latvia', 'Latvia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'lb', 'Libanon', 'Libanon', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ls', 'Lesotho', 'Lesotho', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'lr', 'Liberia', 'Liberia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ly', 'Libya', 'Libya', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'li', 'Liechtenstein', 'Liechtenstein', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'lt', 'Litauen', 'Litauen', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'lu', 'Luxembourg', 'Luxembourg', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mo', 'Macao', 'Macao', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mk', 'Makedonia', 'Makedonia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mg', 'Madagaskar', 'Madagaskar', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mw', 'Malawi', 'Malawi', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'my', 'Malaysia', 'Malaysia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mv', 'Maldivene', 'Maldivene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ml', 'Mali', 'Mali', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mt', 'Malta', 'Malta', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mh', 'Marshallyene', 'Marshallyene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mq', 'Martinique', 'Martinique', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mr', 'Mauritania', 'Mauritania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mu', 'Mauritius', 'Mauritius', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'yt', 'Mayotte', 'Mayotte', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mx', 'Mexico', 'Mexico', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'fm', 'Mikronesiafderasjonen', 'Mikronesiafderasjonen', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'md', 'Moldova', 'Moldova', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mc', 'Monaco', 'Monaco', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'me', 'Montenegro', 'Montenegro', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mn', 'Mongolia', 'Mongolia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ms', 'Montserrat', 'Montserrat', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ma', 'Marokko', 'Marokko', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mz', 'Mosambik', 'Mosambik', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mm', 'Burma', 'Burma', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'na', 'Namibia', 'Namibia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'nr', 'Nauru', 'Nauru', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'np', 'Nepal', 'Nepal', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'nl', 'Nederland', 'Nederland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'an', 'De nederlandske antiller', 'De nederlandske antiller', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'nc', 'Ny-Caledonia', 'Ny-Caledonia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'nz', 'New Zealand', 'New Zealand', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ni', 'Nicaragua', 'Nicaragua', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ne', 'Niger', 'Niger', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ng', 'Nigeria', 'Nigeria', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'nu', 'Niue', 'Niue', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'nf', 'Norfolk Island', 'Norfolk Island', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'mp', 'Nord-Marianene', 'Nord-Marianene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'no', 'Norge', 'Norge', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'om', 'Oman', 'Oman', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pk', 'Pakistan', 'Pakistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pw', 'Palau', 'Palau', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ps', 'De okkuperte palestinske omrdene', 'De okkuperte palestinske omrdene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pa', 'Panama', 'Panama', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pg', 'Papua Ny-Guinea', 'Papua Ny-Guinea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'py', 'Paraguay', 'Paraguay', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pe', 'Peru', 'Peru', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ph', 'Filippinene', 'Filippinene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pn', 'Pitcairn', 'Pitcairn', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pl', 'Polen', 'Polen', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pt', 'Portugal', 'Portugal', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pr', 'Puerto Rico', 'Puerto Rico', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'qa', 'Qatar', 'Qatar', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 're', 'Runion', 'Runion', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ro', 'Romania', 'Romania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ru', 'Russland', 'Russland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'rw', 'Rwanda', 'Rwanda', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sh', 'St. Helena', 'St. Helena', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'kn', 'Saint Kitts og Nevis', 'Saint Kitts og Nevis', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'lc', 'Saint Lucia', 'Saint Lucia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pm', 'Saint-Pierre-et-Miquelon', 'Saint-Pierre-et-Miquelon', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'vc', 'Saint Vincent og Grenadinene', 'Saint Vincent og Grenadinene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ws', 'Samoa', 'Samoa', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sm', 'San Marino', 'San Marino', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'st', 'So Tom og Prncipe', 'So Tom og Prncipe', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sa', 'Saudi-Arabia', 'Saudi-Arabia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sn', 'Senegal', 'Senegal', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'rs', 'Serbia', 'Serbia', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sc', 'Seychellene', 'Seychellene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sl', 'Sierra Leone', 'Sierra Leone', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sg', 'Singapore', 'Singapore', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sk', 'Slovakia', 'Slovakia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'si', 'Slovenia', 'Slovenia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sb', 'Salomonyene', 'Salomonyene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'so', 'Somalia', 'Somalia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'za', 'Sr-Afrika', 'Sr-Afrika', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gs', 'Sr-Georgia og de sre Sandwichyene', 'Sr-Georgia og de sre Sandwichyene', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'es', 'Spania', 'Spania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'lk', 'Sri Lanka', 'Sri Lanka', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sd', 'Sudan', 'Sudan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sr', 'Surinam', 'Surinam', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sj', 'Svalbard og Jan Mayen', 'Svalbard og Jan Mayen', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sz', 'Swaziland', 'Swaziland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'se', 'Sverige', 'Sverige', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ch', 'Sveits', 'Sveits', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sy', 'Syria', 'Syria', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tw', 'Taiwan', 'Taiwan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tj', 'Tadsjikistan', 'Tadsjikistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tz', 'Tanzania', 'Tanzania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'th', 'Thailand', 'Thailand', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tl', 'st-Timor', 'st-Timor', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tg', 'Togo', 'Togo', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tk', 'Tokelau', 'Tokelau', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'to', 'Tonga', 'Tonga', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tt', 'Trinidad og Tobago', 'Trinidad og Tobago', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tn', 'Tunisia', 'Tunisia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tr', 'Tyrkia', 'Tyrkia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tm', 'Turkmenistan', 'Turkmenistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tc', 'Turks- og Caicosyene', 'Turks- og Caicosyene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tv', 'Tuvalu', 'Tuvalu', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ug', 'Uganda', 'Uganda', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ua', 'Ukraina', 'Ukraina', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ae', 'De forente arabiske emirater', 'De forente arabiske emirater', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gb', 'Storbritannia', 'Storbritannia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'us', 'USA', 'USA', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'um', 'USA, mindre, utenforliggende yer', 'USA, mindre, utenforliggende yer', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'uy', 'Uruguay', 'Uruguay', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'uz', 'Usbekistan', 'Usbekistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'vu', 'Vanuatu', 'Vanuatu', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'va', 'Vatikanstaten', 'Vatikanstaten', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 've', 'Venezuela', 'Venezuela', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'vn', 'Vietnam', 'Vietnam', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'vg', 'Jomfruyene (Britisk)', 'Jomfruyene (Britisk)', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'vi', 'Jomfruyene (USA)', 'Jomfruyene (USA)', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'wf', 'Wallis- og Futunayene', 'Wallis- og Futunayene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'eh', 'Vest-Sahara', 'Vest-Sahara', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ye', 'Jemen', 'Jemen', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'yu', 'Yugoslavia', 'Yugoslavia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'zm', 'Zambia', 'Zambia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'zw', 'Zimbabwe', 'Zimbabwe', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'af', 'Afghanistan', 'Afghanistan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ax', 'land', 'land', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'al', 'Albania', 'Albania', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'dz', 'Algerie', 'Algerie', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'as', 'Amerikansk Samoa', 'Amerikansk Samoa', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ad', 'Andorra', 'Andorra', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ao', 'Angola', 'Angola', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ai', 'Anguilla', 'Anguilla', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'aq', 'Antarktika', 'Antarktika', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ag', 'Antigua og Barbuda', 'Antigua og Barbuda', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ar', 'Argentina', 'Argentina', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'am', 'Armenia', 'Armenia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'aw', 'Aruba', 'Aruba', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'au', 'Australia', 'Australia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'at', 'sterrike', 'sterrike', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'az', 'Aserbajdsjan', 'Aserbajdsjan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bs', 'Bahamas', 'Bahamas', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bh', 'Bahrain', 'Bahrain', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bd', 'Bangladesh', 'Bangladesh', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bb', 'Barbados', 'Barbados', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'by', 'Hviterussland', 'Hviterussland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'be', 'Belgia', 'Belgia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bz', 'Belize', 'Belize', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bj', 'Benin', 'Benin', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bm', 'Bermuda', 'Bermuda', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bt', 'Bhutan', 'Bhutan', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bo', 'Bolivia', 'Bolivia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ba', 'Bosnia-Hercegovina', 'Bosnia-Hercegovina', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bw', 'Botswana', 'Botswana', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bv', 'Bouvetya', 'Bouvetya', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'br', 'Brasil', 'Brasil', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'io', 'Britisk territorium i Indiahavet', 'Britisk territorium i Indiahavet', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bn', 'Brunei', 'Brunei', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bg', 'Bulgaria', 'Bulgaria', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bf', 'Burkina Faso', 'Burkina Faso', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'bi', 'Burundi', 'Burundi', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'kh', 'Kambodsja', 'Kambodsja', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cm', 'Kamerun', 'Kamerun', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ca', 'Canada', 'Canada', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cv', 'Kapp Verde', 'Kapp Verde', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ky', 'Caymanyene', 'Caymanyene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cf', 'Den sentralafrikanske republikk', 'Den sentralafrikanske republikk', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'td', 'Tsjad', 'Tsjad', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cl', 'Chile', 'Chile', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cn', 'Kina', 'Kina', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cx', 'Christmasya', 'Christmasya', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cc', 'Kokosyene', 'Kokosyene', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'co', 'Colombia', 'Colombia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'km', 'Komorene', 'Komorene', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cg', 'Kongo-Brazzaville', 'Kongo-Brazzaville', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cd', 'Kongo', 'Kongo', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ck', 'Cookyene', 'Cookyene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cr', 'Costa Rica', 'Costa Rica', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ci', 'Elfenbenskysten', 'Elfenbenskysten', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'hr', 'Kroatia', 'Kroatia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cu', 'Cuba', 'Cuba', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cy', 'Kypros', 'Kypros', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'cz', 'Tsjekkia', 'Tsjekkia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'dk', 'Danmark', 'Danmark', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'dj', 'Djibouti', 'Djibouti', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'dm', 'Dominica', 'Dominica', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'do', 'Den dominikanske republikk', 'Den dominikanske republikk', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ec', 'Ecuador', 'Ecuador', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'eg', 'Egypt', 'Egypt', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'sv', 'El Salvador', 'El Salvador', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gq', 'Ekvatorial-Guinea', 'Ekvatorial-Guinea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'er', 'Eritrea', 'Eritrea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ee', 'Estland', 'Estland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'et', 'Etiopia', 'Etiopia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'fk', 'Falklandsyene', 'Falklandsyene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'fo', 'Fryene', 'Fryene', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'fj', 'Fiji', 'Fiji', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'fi', 'Finland', 'Finland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'fr', 'Frankrike', 'Frankrike', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gf', 'Fransk Guyana', 'Fransk Guyana', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'pf', 'Fransk Polynesia', 'Fransk Polynesia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'tf', 'Sre franske territorier', 'Sre franske territorier', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ga', 'Gabon', 'Gabon', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gm', 'Gambia', 'Gambia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ge', 'Georgia', 'Georgia', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'de', 'Tyskland', 'Tyskland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gh', 'Ghana', 'Ghana', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gi', 'Gibraltar', 'Gibraltar', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gr', 'Hellas', 'Hellas', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gl', 'Grnland', 'Grnland', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gd', 'Grenada', 'Grenada', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gp', 'Guadeloupe', 'Guadeloupe', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gu', 'Guam', 'Guam', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gt', 'Guatemala', 'Guatemala', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gg', 'Guernsey', 'Guernsey', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gn', 'Guinea', 'Guinea', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gw', 'Guinea-Bissau', 'Guinea-Bissau', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'gy', 'Guyana', 'Guyana', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'ht', 'Haiti', 'Haiti', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'hm', 'Heard- og McDonald-yene', 'Heard- og McDonald-yene', 0)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'hn', 'Honduras', 'Honduras', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'hk', 'Hongkong', 'Hongkong', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('en', 'z8', 'Satelite & Other', 'Satelite & Other', 1)");
    $ret[] = update_sql("INSERT INTO `astccniso` VALUES ('no', 'z8', 'Satelite & Other', 'Satelite & Other', 1)");

  return $ret;
}

function astbill_update_056() {
  $ret = array();
    $ret[] = update_sql("CREATE TABLE `astccnlist` (
  `ccn` int(11) NOT NULL default '0',
  `isoid` char(2) NOT NULL default '',
  `mobile` tinyint(1) NOT NULL default '0',
  `productcode` varchar(40) NOT NULL default '950',
  `traffictype` varchar(255) NOT NULL default '',
  PRIMARY KEY  (`ccn`),
  KEY `productcode` (`productcode`,`ccn`),
  KEY `countrycode` (`ccn`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");

    $ret[] = update_sql("CREATE TABLE `astccnprefix` (
  `prefix` varchar(40) NOT NULL default '',
  `ccn` int(11) NOT NULL default '0',
  `description` varchar(128) NOT NULL default '',
  PRIMARY KEY  (`prefix`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8");

    $ret[] = update_sql("ALTER TABLE `astpartner` ADD `isoid` char(2) NOT NULL default '' AFTER `state`");
    $ret[] = update_sql("update astpartner set active = 1 where pid = 30000");
    $ret[] = update_sql("INSERT INTO `astacgroup` VALUES ('pbx_', 'AstBill', 'Site', 0, 1, 0, NULL, '')");
    $ret[] = update_sql("update astpartner set company = 'Default Customer / Partner' where pid = 30000");

    $ret[] = update_sql("INSERT INTO `astacdid` VALUES (44, '02071006433', 'pbx_', 1, NULL, NULL, 'AstBillDemo', '70103', 'N', '', '', '', 15, '', 1, 0, NULL, NULL, NULL, NULL, '', NULL, '2006-04-29 17:03:47')");
    $ret[] = update_sql("INSERT INTO `astacdid` VALUES (44, '02081006443', 'pbx_', 1, NULL, NULL, 'AstBillDemo', '70103&70107', 'N', '', '', '', 15, '', 1, 0, NULL, NULL, NULL, NULL, '', NULL, '2006-04-29 17:03:47')");
    $ret[] = update_sql("INSERT INTO `astacdid` VALUES (44, '08700682725', 'pbx_', 2, NULL, NULL, 'AstBillDemo', '70106', 'N', '', '', '', 15, '', 1, 0, NULL, NULL, NULL, NULL, '', NULL, '2006-04-29 17:03:47')");
    $ret[] = update_sql("INSERT INTO `astacdid` VALUES (44, '08700682727', 'pbx_', 2, NULL, NULL, 'AstBillDemo', '70108', 'N', '', '', '', 15, '', 1, 0, NULL, NULL, NULL, NULL, '', NULL, '2006-04-29 17:03:47')");
    $ret[] = update_sql("INSERT INTO `astacdid` VALUES (1, '13602267846', 'pbx_', 2, NULL, NULL, 'AstBillDemo', '70108', 'N', '', '', '', 15, '', 1, 0, NULL, NULL, NULL, NULL, '', NULL, '2006-04-29 17:03:47')");
    $ret[] = update_sql("INSERT INTO `astacdid` VALUES (1, '14324147846', 'pbx_', 2, NULL, NULL, 'AstBillDemo', '70111', 'N', '', '', '', 15, '', 1, 0, NULL, NULL, NULL, NULL, '', NULL, '2006-04-29 17:03:47')");
    $ret[] = update_sql("INSERT INTO `astacdid` VALUES (1, '19950797846', 'pbx_', 2, NULL, NULL, 'AstBillDemo', '70382', 'N', '', '', '', 15, '', 1, 0, NULL, NULL, NULL, NULL, '', NULL, '2006-04-29 17:03:47')");

    $ret[] = update_sql("REPLACE INTO `astsumaccount`
	SELECT `accountcode`, (
	select count(*) from astcdr cdr where cdr.accountcode = acc.accountcode and `dialstatus` like 'ANSWER%'
	and `answeredtime` <> 0 and `trunk` <> 'Local'
	) AS `countcalls`,
	(select IFNULL(sum(cdr.price),0) from astcdr cdr where cdr.accountcode = acc.accountcode and cdr.dialstatus like 'ANSWER%' and cdr.answeredtime <> 0 
	and trunk <> 'Local' 
	) AS `sumcost`,
	(select IFNULL(sum(pay.paidamount),0) from `astpayment` pay WHERE pay.accountcode = acc.accountcode
	) AS `sumpaid`
	FROM astaccount acc");
    $ret[] = update_sql("REPLACE INTO `astsumpartner`
	SELECT pid, (select Count(*) from astuser us where partnerid = pid) user,
	(SELECT Count(*) AS users FROM astaccount ac, astuser us 
	WHERE ac.db_prefix = us.db_prefix and ac.uid = us.uid and 
	ac.tech in (select actype from astactype where active = '1') and
	partnerid = pid) account,
	(SELECT Count(*) AS msn FROM astacdid did, astuser us,astpartner pa 
	WHERE did.uid = us.uid and did.db_prefix = us.db_prefix and us.partnerid = pa.pid 
	and pa.pid = apa.pid) did
	FROM astpartner apa");
    $ret[] = update_sql("REPLACE INTO `astsumorderip`
	SELECT 'ipp_',CONCAT(YEAR(Now()),'/',WEEK(Now())) uke, Count(*) count,ROUND(Count(*) * 100 / (SELECT Count(*) count from astorderip),2) prosent,
	(SELECT Count(*) count from astorderip) totalt, 
	(SELECT Count(*) from astacdid where db_prefix = 'ipp_') msn,
	(SELECT Count(*) from astaccount where db_prefix = 'ipp_' and tech = 'SIP') SIP,
	workflow WF, Now()
	FROM astorderip ord
	left join astacgroup gr on ord.workflow = gr.gtype
	GROUP BY workflow
	order by lineno");

    $ret[] = update_sql("INSERT INTO `astacgroup` VALUES ('SIP', 'SIP VOIP Telephone / ATA Box', 'CreateAccount', 0, 1, 20, NULL, '')");
    $ret[] = update_sql("INSERT INTO `astacgroup` VALUES ('IAX', 'IAX - Single Account', 'CreateAccount', 0, 1, 40, NULL, '')");
    $ret[] = update_sql("INSERT INTO `astacgroup` VALUES ('IAXSERV', 'IAX - Asterisk Server', 'CreateAccount', 0, 1, 50, NULL, '')");
    $ret[] = update_sql("INSERT INTO `astacgroup` VALUES ('SIPFAX', 'SIP Fax t.38', 'CreateAccount', 0, 1, 30, NULL, '')");

  return $ret;

}

function astbill_update_057() {
  $reit = array();
    $ret[] = update_sql("ALTER TABLE `astuser` ADD `isagent` tinyint(1) NOT NULL default '1' AFTER `ordercode`");
    $ret[] = update_sql("ALTER TABLE `astuser` ADD `isagent` tinyint(1) NOT NULL default '1' AFTER `ordercode`");
    $ret[] = update_sql("ALTER TABLE `astuser` ADD `isagent` tinyint(1) NOT NULL default '1' AFTER `ordercode`");
    $ret[] = update_sql("ALTER TABLE `astacgroup` ADD `commission` tinyint(1) NOT NULL default '0' AFTER `active`");
    $ret[] = update_sql("ALTER TABLE `astorderip` ADD `date_sendt` date NOT NULL default '0000-00-00' AFTER `date_followup`");
    $ret[] = update_sql("ALTER TABLE `astorderip` ADD `fieldvendor` varchar(40) NOT NULL default '' AFTER `date_sendt`");
    $ret[] = update_sql("ALTER TABLE `astorderip` ADD `fieldremarks` text NOT NULL default '' AFTER `fieldvendor`");
    $ret[] = update_sql("ALTER TABLE `astorderip` ADD `productcode` varchar(40) NOT NULL default '' AFTER `customers_order`");
    $ret[] = update_sql("ALTER TABLE `astorderip` ADD `sendtref` varchar(256) NOT NULL default '' AFTER `date_sendt`");
    $ret[] = update_sql("ALTER TABLE `astorderip` CHANGE `fieldvendor` `fieldvendor` int(10) NOT NULL default '0'");
    $ret[] = update_sql("ALTER TABLE `astpartner` ADD `isfieldvendor` tinyint(4) NOT NULL default '0' AFTER `isvendor`");
    $ret[] = update_sql("ALTER TABLE `astinvoice` ADD `rateplan` varchar(128) DEFAULT '' NOT NULL AFTER `due_date`");
    $ret[] = update_sql("ALTER TABLE `astuser` CHANGE `callbackto` `callbackto` varchar(128) NOT NULL default ''");
  return $ret;

}

/*
function astbill_update_057() {
  $ret = array();


    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
  return $ret;
*/

/*

function astbill_update_057() {
  $ret = array();


    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
    $ret[] = update_sql("");
  return $ret;

*/


